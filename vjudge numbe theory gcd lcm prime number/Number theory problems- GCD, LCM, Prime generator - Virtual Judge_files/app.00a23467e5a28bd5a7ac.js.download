webpackJsonp([2,1],[function(t,e,n){t.exports=n(20)},function(t,e,n){(function(e,a){t.exports=new function(){function t(){Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},window.setIntervalAndExecute=function(t,e){return t(),setInterval(t,e)}}function o(){var t=p.getTimezone(),e=function(){var e=new Date(p.getServerTime()).format("yyyy-MM-dd hh:mm:ss");$(".currentTimeTZ").html(e+" "+t),$(".currentTime").html(e)};e(),setInterval(e,1e3)}var s,i,r,l,c,d,u,p=this;this.init=function(){t(),o(),r=$("#username").val(),l=$("#userId").val(),c=$("#sup").val()},this.getLastClickTimestamp=function(){return void 0===u&&($(window).click(function(){u=(new Date).valueOf()}),u=(new Date).valueOf()),u},this.sinceLastClick=function(){return(new Date).valueOf()-p.getLastClickTimestamp()},this.getUsername=function(){return r},this.getUserId=function(){return l},this.getSup=function(){return c},this.formatDate=function(t){return new Date(t).format("yyyy-MM-dd hh:mm:ss")},this.parseDate=function(t){if(!t.match(/^\d{4}-\d{1,2}-\d{1,2} \d{1,2}:\d{1,2}:\d{1,2}$/))throw"Begin time format should be 'yyyy-MM-dd hh:mm:ss'";var e=t.split(/\D+/),n=parseInt(e[0],10),a=parseInt(e[1],10),o=parseInt(e[2],10),s=parseInt(e[3],10),i=parseInt(e[4],10),r=parseInt(e[5],10);return new Date(n,a-1,o,s,i,r)},this.getOjs=function(){if(!d){var t=$("[name=version]").val();d=p.storage.get("ojs"),void 0!==d&&t==d.version||$.post(basePath+"/util/remoteOJs",function(e){d={val:e,version:t},p.storage.set("ojs",d),void 0===d&&window.location.reload()})}return void 0===d?{}:d.val},this.getOjsList=function(){var t=$.map(p.getOjs(),function(t,e){return t});return t.sort(function(t,e){return t.name.localeCompare(e.name)}),t},this.getServerTime=function(){var t=(new Date).valueOf();return void 0===s&&(s=p.storage.get("timeDiff"),(void 0===s||t-s.lastUpdate>3e5)&&$.post(basePath+"/util/serverTime",function(e){s={val:e-(t+(new Date).valueOf())/2,lastUpdate:t},p.storage.set("timeDiff",s)})),t+(s?s.val:0)},this.getRelativeString=function(t){var e=(p.getServerTime()-t)/1e3,n=Math.abs(e),a=e>0?"ago":"later";return n<60?Math.round(n)+" sec "+a:n<3600?Math.round(n/60)+" min "+a:n<86400?Math.round(n/3600)+" hr "+a:n<2592e3?Math.round(n/86400)+" days "+a:n<31536e3?Math.round(n/2592e3)+" months "+a:Math.round(n/31536e3)+" years "+a},this.renderLocalizedTime=function(t,e){var n=e?e():$(),a=n.parents("table");$(".localizedTime").each(function(){function e(){r.text(p.getRelativeString(o))}var n=$(this);if("true"!==n.attr("rendered")){n.attr("rendered",!0);var o=n.data("time"),s=new Date(parseInt(o)).format("yyyy-MM-dd hh:mm:ss"),i=t.call(n),r=$("<span class='relative'></span>"),l=$("<span class='absolute'></span>").text(s);n.append(r).append(l),e();var c=(p.getServerTime()-o)/1e3;if(c<61){var d=setInterval(e,1e3);setTimeout(function(){clearInterval(d),setInterval(e,6e4)},6e4)}i.mouseleave(function(){a.removeClass("hover-date")}).mouseenter(function(){a.addClass("hover-date")})}})},this.parseUrlParameter=function(){for(var t={},e=window.location.href.replace(/#.+$/,""),n=e.indexOf("?"),a=e.substring(n+1).split("&"),o=0;o<a.length;o++)try{var s=a[o].split("=");t[s[0]]=s[1]}catch(i){}return t},this.doIfLoggedIn=function(t){$.post(basePath+"/user/checkLogInStatus",function(e){1==e?t():(i=t,$("#loginModal").modal("show"))})},this.loginSuccess=function(){i()},this.isScrolledIntoView=function(t){var e=$(window).scrollTop(),n=e+$(window).height(),a=$(t).offset();if(void 0==a)return!1;var o=a.top,s=o+$(t).height();return s>=e&&o<=n},this.sendGaPageview=function(){var t=window.location.pathname+window.location.search+window.location.hash;"function"==typeof ga&&ga("send","pageview",t)},this.enhanceSelect=function(t,e){var n,a=e+"-button",o=e+"-menu",s=function(){clearTimeout(n),n=setTimeout(function(){$(o).is(":hover")||$(a).is(":hover")||$(e).selectmenu("close")},1e3)};$(a).mouseenter(function(){$(e).selectmenu("open")}).mouseleave(function(){s()}),$(o).mouseleave(function(){s()})},this.storage=new function(){var t={};this.set=function(e,n,a){try{(a?t:localStorage)[e]="object"==typeof n?JSON.stringify(n):n}catch(o){console.error(o)}},this.get=function(e,n,a){var o=(a?t:localStorage)[e];if(void 0===o)return n;try{return JSON.parse(o)}catch(s){return o}}},this.initBootstrapRadio=function(t,e,n){t.find("label").each(function(){var t=$(this),a=t.find('input[type="radio"]');t.on("click",function(){return!t.hasClass("disabled")&&void n(a.val())}),null!==e&&a.val()==e&&$(this).addClass("active")}),null!==e&&n(e)},this.getTimezone=function(){var t={"UTC+8":"CST","UTC-7":"PDT","UTC-5":"EST","UTC-8":"PST","UTC+6":"BST"},e=(new Date).getTimezoneOffset()/-60,n="UTC"+(e>=0?"+"+e:e);return t[n]||n},this.formatTimeSpan=function(t){var e=Math.floor(t/36e5);t-=36e5*e;var a=Math.floor(t/6e4);t-=6e4*a;var o=Math.floor(t/1e3);return n(65).sprintf("%02d:%02d:%02d",e,a,o)},this.renderHyperText=function(){function t(){if(!a){var t=n(63);a=new t.Converter,a.setFlavor("github"),a.setOption("ghMentions",!0),a.setOption("ghMentionsLink",basePath+"/user/{u}")}return a}var a,o=["body","button","canvas","form","head","html","input","main","map","marquee","menu","menuitem","nav","option","select","style","svg","textarea","video"],s=["style"];return function(n,a,i){if(void 0===n)return"";var r,l=n.content,c=n.format;return"HTML"===c?r=l:"MD"===c?r=t().makeHtml(l):"PLAIN"===c&&(r=$("<pre/>").text(l)[0].outerHTML,a=!0),a||(r=e.sanitize(r,{FORBID_TAGS:o,FORBID_ATTR:s})),i&&(l&&l.length>0?(i.html(r).show(),p.highlightCode(i),p.renderMath(i)):i.hide()),r}}(),this.highlightCode=function(t){(t||$(document)).find("code").each(function(t,e){var n=e.innerHTML,o=/\r|\n/.exec(n);o&&a.highlightBlock(e)})},this.renderMath=function(t){"undefined"!=typeof MathJax&&MathJax.Hub.Typeset()};var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};this.escapeHtml=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return m[t]})},this.parseHashParams=function(){for(var t,e=/(\w+)=([^$&]*)/g,n={};t=e.exec(location.hash);)n[t[1]]=t[2];return n}}}).call(e,n(50),n(23))},,function(t,e,n){(function(e){function a(t){d=t,u=$(f),u.appendTo(document.body),u.on("show.bs.modal",function(e){$.post(basePath+"/solution/data/"+t,s)}).on("hidden.bs.modal",function(t){$(this).remove()}).modal("show"),e.sendGaPageview()}function o(t,e){d=t,m=e,p=$(f).find("div.modal-content"),$("#solution-container").html(p.html()),$.post(basePath+"/solution/data/"+t+"?inPage=true",{shareCode:m},s)}function s(t){t.runId===d&&(r(t),i(t),l())}function i(t){var n=$("#code-panel");if(t.code)n.append($("<span id='btn-select-all'>Select Code</span><pre><code id='code-content' class='"+t.languageCanonical+"'></code></pre>")).find("code").text(t.code),e.highlightCode(),$("#btn-select-all").click(function(){c("code-content")});else if(t.codeImgUrl){var a=t.codeImgUrl,o=$("<img>").attr("src",a),s=0,i=10;o.on("error",function(){s++,s>i?o.attr("alt","Loading failed. Please refresh."):(o.attr("alt","Preparing... "+s+"/"+i),setTimeout(function(){o.attr("src",a+"&a="+(new Date).getTime())},3e3))}),n.append(o)}else t.codeAccessInfo&&(n.find("div.alert").remove(),n.append("<div class='alert alert-danger'>"+t.codeAccessInfo+"</div>"))}function r(t){var n="1"===e.getSup(),a=e.getUserId()==t.authorId||n,o=t.processing?" <i class='fa fa-refresh fa-spin'></i>":2==t.statusType||n?" <i class='fa fa-refresh rejudge' data-run-id='"+t.runId+"'></i>":"",i=t.oj+"-"+t.probNum,r=[["Status",t.status+o],["Time",t.runtime?t.runtime+"ms":null],["Memory",t.memory?t.memory+"kB":null],["Length",t.length],["Lang",t.language],["Submitted",e.formatDate(t.submitTime)],["Shared",a?"<input type='checkbox'>":null],["RemoteRunId",t.remoteRunId],["RemoteAccount",t.remoteAccountId]],l=$("#info-panel").find("tbody"),c="<a href='"+basePath+"/user/"+t.author+"' target='_blank'>"+t.author+"</a>",d=(t.oj?"<a href='"+basePath+"/problem/"+i+"' target='_blank'>["+i+"]</a>":"")+" "+(t.contestNum?"<a href='"+basePath+"/contest/"+t.contestId+"#problem/"+t.contestNum+"' target='_blank'>[Problem "+t.contestNum+"]</a>":""),u=basePath+"/solution/"+t.runId+(t.shareCode?"/"+t.shareCode:"");$("#solutionModalLabel").html("<a href='"+u+"' target='_blank'>#"+t.runId+"</a> | "+c+"'s solution for "+d),l.empty(),$.each(r,function(e,n){var a=n[0],o=n[1];if(null!==o&&void 0!==o){var s=$("<tr/>").append($("<th class='table-active' scope='row'/>").html(a)).append($("<td class='"+a+"'/>").html(o));s.addClass(["accepted","failed","pending"][t.statusType]),l.append(s)}}),a&&l.find("td.Shared input").prop("checked",t.isOpen).change(function(){t.isOpen=!t.isOpen,$.post(basePath+"/solution/share/"+t.runId+"/"+t.isOpen)}),l.find("i.rejudge").click(function(){$.post(basePath+"/problem/rejudge/"+$(this).data("run-id"),function(){$.post(basePath+"/solution/data/"+t.runId,{showCode:!1,shareCode:m},s)})});var p=$("#ce-info");t.additionalInfo?(e.renderHyperText({content:t.additionalInfo,format:"HTML"},!1,p),p.show()):p.hide(),t.processing&&setTimeout(function(){$.post(basePath+"/solution/data/"+t.runId,{showCode:!1,shareCode:m},s)},1e3),m&&$(".fb-like").appendTo($("#solutionModalLabel")).show()}function l(){var t=$("#source_discuss");t.is(":empty")&&v.show("source/"+d,t)}function c(t){var e,n,a=document,o=a.getElementById(t);a.body.createTextRange?(e=document.body.createTextRange(),e.moveToElementText(o),e.select()):window.getSelection&&(n=window.getSelection(),e=document.createRange(),e.selectNodeContents(o),n.removeAllRanges(),n.addRange(e))}var d,u,p,m,f=n(61),v=n(4);t.exports={showModal:a,showBody:o}}).call(e,n(1))},function(t,e,n){(function(e){function a(t,n,a){function i(t){var n=m.clone().toggleClass("comment-post-templ");n.attr("pid",t.id),t.$li=n,f[t.id]=t;var a=t;if(t.deleted)n.find(".content").html('<span style="color: grey">[DELETED]</span>');else{var o=t.authorId?"<a href='"+basePath+"/user/"+t.author+"' target='_blank'>"+t.author+"</a>":t.author;n.find(".author-avatar").attr("src",t.authorAvatar),n.find(".author").html(o),n.find(".time").html(e.getRelativeString(t.time)).attr("title",e.formatDate(t.time)),t.author!==e.getUsername()&&0===e.getSup()||(n.find(">.operation .delete").parent().show(),n.find(">.operation .edit").parent().show()),e.renderHyperText({content:t.content,format:"MD"},!1,n.find(".content"))}for(var s=t;s;)a=s,t.deleted||s.$li.show(),s=f[s.parentId];if(0!=t.parentId){var i=f[t.parentId].$li;i.find("> .replies").append(n)}u.prepend(a.$li)}function r(){u.on("click",".operation .reply",function(){var t=$(this).parents(".operation").siblings("ul");return p.prependTo(t),u.find("li.comment-post .content").show(),p.find("button.save").hide(),p.find("button.post-broadcast").show(),p.find("button.post").show(),v=$(this).parents("li").attr("pid"),!1}),u.on("click",".operation .edit",function(){var t=parseInt($(this).parents("li").attr("pid")),e=$(this).parents(".operation").siblings(".content");return e.hide(),p.find("textarea").val(f[t].content),p.insertAfter(e),p.find("button.save").show(),p.find("button.post-broadcast").hide(),p.find("button.post").hide(),h=t,!1}),u.on("click",".operation .delete",function(){var t=parseInt($(this).parents("li").attr("pid")),e=$(this).parents(".operation").siblings(".content");return s.showModal({title:"Delete comment",body:"Are you sure to delete this comment: <br><br>"+e.html(),callback:function(){$.post(basePath+"/comment/delete/"+t,function(t){t.error?s.showError(t.error):(s.hide(),l())})}}),!1})}function l(n){f={},p.prependTo(u),u.find(".comment-post").remove(),$.getJSON("/comment/thread?path="+t+"&t="+e.getServerTime(),function(t){$.each(t.posts,function(t,e){i(e)}),$.each(t.posts,function(t,e){var n=f[e.parentId];n&&n.$li.find(">.operation .edit").parent().hide()}),p.prependTo(u),t.allowBroadcast||u.find("button.post.broadcast").remove(),"function"==typeof a&&a(t.posts.length),v=0,h=0,"function"==typeof n&&n()})}function c(t){var e=$("li[pid="+t+"]");$("body").animate({scrollTop:e.offset().top-200,queue:!1},500)}function d(){u.find(".buttons .cancel").click(function(){u.find("li.comment-post .content").show(),p.find("textarea").val(""),p.prependTo(u),p.find("button.save").hide(),p.find("button.post-broadcast").show(),p.find("button.post").show(),v=0,h=0}),u.find(".buttons .post").click(function(){$.post(basePath+"/comment/post",{path:t,parent:v,content:p.find("textarea").val(),broadcast:$(this).hasClass("broadcast")},function(t){t.error?u.find(".comment-error").html(t.error).show():(u.find(".comment-error").hide(),p.find("textarea").val(""),l(function(){c(t.postId)}))})}),u.find(".buttons .save").click(function(){$.post(basePath+"/comment/edit",{postId:h,content:p.find("textarea").val()},function(t){t.error?u.find(".comment-error").html(t.error).show():(u.find(".comment-error").hide(),p.find("textarea").val(""),l(function(){c(t.postId)}))})}),setIntervalAndExecute(function(){e.renderHyperText({content:p.find("textarea").val(),format:"MD"},!1,p.find(".preview-content"))},2e3)}$(o).appendTo(n);var u=n.find(".comment-posts-container"),p=u.find(".comment-edit"),m=u.find(".comment-post-templ"),f={},v=0,h=0;l(),d(),r()}var o=n(53),s=n(5);t.exports={show:a}}).call(e,n(1))},function(t,e,n){function a(t){o.find("#confirm-title").html(t.title),o.find("#confirm-body").html(t.body),o.find("#btn-confirm").click(function(){"function"==typeof t.callback?t.callback.call(o):o.modal("hide")}),"function"==typeof t.onShow&&t.onShow.call(o)}var o,s=n(54);t.exports={showModal:function(t){o=$(s),t.large===!0&&o.find("div.modal-dialog").addClass("modal-lg"),t.fade===!1&&o.removeClass("fade"),o.appendTo(document.body),o.on("show.bs.modal",function(){a(t)}).on("hidden.bs.modal",function(){$(this).remove()}).modal("show")},showError:function(t){o.find("#confirm-alert").html(t).show()},hide:function(){void 0!==o&&o.modal("hide")}}},function(t,e,n){(function(e){function a(){p=u.find("select[name=language]"),f.inContest?s():o(),i(),r(),c()}function o(){for(var t=u.find("select[name=oj]"),n=e.getOjsList(),a=0;a<n.length;a++)t.append("<option value='"+n[a].name+"'>"+n[a].name+"</option>");t.val(f.oj),t.change(function(){m=t.val(),d()}),m=f.oj,u.find("[name=probNum]").val(f.probNum),$("#prob-1").show(),$("#prob-2").hide()}function s(){var t=$("#contest-num");t.empty();for(var e in f.probInfo){var n=f.probInfo[e];t.append("<option value='"+e+"' oj='"+n.oj+"'>"+e+" - "+n.title+"</option>")}t.val(f.num).change(function(){var e=t.find(":selected");m=e.attr("oj"),f.num=e.val(),d()}),m=f.probInfo[f.num].oj,f.needPassword&&$("#contest-password-container").show(),$("#prob-1").hide(),$("#prob-2").show()}function i(){d(),p.change(function(){e.storage.set("lang."+m,$(this).val())})}function r(){var t=e.storage.get("share_code","0");e.initBootstrapRadio($("#submit-share"),t,function(t){e.storage.set("share_code",t)})}function l(){function t(){n.attr("src",basePath+"/util/captcha?"+e.getServerTime())}$("div.row.captcha").show();var n=$("#submit-captcha-img");n.click(t),t()}function c(){var t=u.find("#btn-submit");t.click(function(){$("#submit-form").submit()}),$("#submit-form").submit(function(){var n=$(this),a={type:"post",url:basePath+"/problem/submit",data:{language:n.find("[name=language]").val(),share:e.storage.get("share_code","0"),source:btoa(encodeURIComponent(n.find("[name=source]").val())),captcha:n.find("[name=captcha]").val()}};if(f.inContest)a.url=basePath+"/contest/submit/"+f.contestId+"/"+f.num,a.data.password=n.find("#contest-password").val();else if(a.url=basePath+"/problem/submit",a.data.oj=n.find("[name=oj]").val(),a.data.probNum=n.find("[name=probNum]").val(),0===a.data.probNum.length)return $("#submit-alert").html("Problem ID is empty").show(),!1;return t.prop("disabled",!0),$.ajax(a).done(function(e){e.error?(t.prop("disabled",!1),$("#submit-alert").html(e.error).show(),e.captcha&&l()):e.runId&&u.on("hidden.bs.modal",function(){h.showModal(e.runId)}).modal("hide")}).fail(function(e,n,a){t.prop("disabled",!1),$("#submit-alert").html(n+" - "+a).show()}),!1})}function d(){p.empty();var t=b[m].languages;for(var n in t)p.append("<option value='"+n+"'>"+t[n]+"</option>");var a=e.storage.get("lang."+m);a&&p.val(a)}var u,p,m,f,v=n(55),h=n(3),b=e.getOjs();t.exports=function(t){f=t,u=$(v),u.appendTo(document.body),u.on("show.bs.modal",function(t){a()}).on("hidden.bs.modal",function(t){$(this).remove()}).modal("show")}}).call(e,n(1))},function(t,e,n){(function(e){function a(){return e.getServerTime()>m.beginTime&&2!=m.type&&m.contestId>0}function o(){var t=$("#contest-type");e.initBootstrapRadio(t,p.type,function(t){p.type=parseInt(t),$("#contest-password-group").css("display",0==p.type&&p.openness>0?"block":"none"),$("#contest-group-group").css("display",["none","block","none"][t]),$("#contest-openness-group").css("display",["block","block","none"][t]),$("#contest-time-machine-group").css("display",["block","block","none"][t]),$("#contest-openness").find("> option:eq(1)").text(["Protected - any one can see, but only users knowing contest password can submit","Protected - any one can see, but only group members can submit",""][t]),$("#contest-openness").find("> option:eq(2)").text(["Private - only users knowing contest password can see and submit","Private - only group members can see and submit",""][t]),$("#card-block-replay, #panel-replay, #nav-item-replay").css("display",2==t?"block":"none")}),t.find("img").each(function(t){this.src=imagesRoot+["/remote_oj/icon-icpc-small.gif","/group.png","/replay.png"][t],this.height=20}),m.contestId>0&&(2===m.type?t.find("label:eq(0), label:eq(1)").addClass("disabled"):t.find("label:eq(2)").addClass("disabled")),0===Object.keys(p.groups).length?$("#contest-group").replaceWith("<span>You are not managing any group.</span>"):($.each(p.groups,function(t,e){$("#contest-group").append("<option value='"+t+"'>"+e+"</option>")}),p.groupId&&$("#contest-group").val(p.groupId)),$("#contest-password").val(p.password),$("#contest-openness").val(p.openness).change(function(){p.openness=parseInt(this.value),$("#contest-password-group").css("display",0==p.type&&p.openness>0?"block":"none")}),$("#contest-title").val(p.title),p.contestId?$("#editContestModalLabel").text("Update - "+p.title):p.problems.length&&$("#editContestModalLabel").text("Clone Contest"),$("#contest-begin-time").val(e.formatDate(p.beginTime)),a()&&$("#contest-begin-time").prop("disabled",!0);(new Date).getTimezoneOffset()/-60;$("label[for=contest-begin-time]").append($("<small />").html(" ("+e.getTimezone()+")"));var n=p.length||18e6,o=Math.floor(n/36e5),s=Math.floor(n%36e5/6e4),i=Math.floor(n%6e4/1e3);$("#contest-length").val(o+":"+s+":"+i);var r=$("#contest-time-machine");e.initBootstrapRadio(r,p.timeMachine,function(t){p.timeMachine=parseInt(t)}),$('[data-toggle="tooltip"]').tooltip(),e.initBootstrapRadio($("#contest-rank-rule"),c(),function(t){const e=parseInt(t);0===e?$(".rank-rule").hide():$(".rank-rule").show()}),e.initBootstrapRadio($("#contest-sum-time"),p.sumTime,function(t){p.sumTime=parseInt(t)}),$("#contest-penalty").val(p.penalty),e.initBootstrapRadio($("#contest-partial-score"),p.partialScore,function(t){p.partialScore=parseInt(t)});var l=$("#contest-show-peers");e.initBootstrapRadio(l,p.showPeers,function(t){p.showPeers=parseInt(t)});var d={content:function(){var t={format:p.description.format,content:$(this).val()};return e.renderHyperText(t)},html:!0,placement:"bottom",trigger:"focus"};p.description=p.description||{format:"MD"},$("#contest-description-edit").val(p.description.content).popover(d),e.initBootstrapRadio($("#description-format-edit"),p.description.format,function(t){p.description.format=t}),$("#contest-announcement-edit").val(p.announcement).popover(d)}function s(){function t(t){var e,o=a.clone();$("tr.cp_row.real").length&&(e=$("tr.cp_row.real").eq(-1)),o.removeAttr("id").addClass("real").mouseover(function(){$(this).css("background-color","#CCEEFF")}).mouseout(function(){$(this).css("background-color","transparent")}).insertBefore("#cp_row_template").show();var s,i=$("[v=oj]",o),r="oj-"+(new Date).valueOf();i.attr("id",r),s=t?t.oj:e?$("[v=oj]",e).val():"POJ",i.val(s);var l=$("[v=probNum]",o),c=e?$("[v=probNum]",e).val().trim():"";if(t)l.val(t.probNum);else if(c.match(/^\d+$/))l.val(parseInt(c)+1);else if(c.match(/^\w+[A-Ya-y]$/)){var d=c.slice(-1);l.val(c.slice(0,-1)+String.fromCharCode(d.charCodeAt(0)+1))}else l.val("");$("[v=weight]",o).val(t?t.weight:e?$("[v=weight]",e).val():"1"),$("[v=alias]",o).val(t?t.alias:""),o.data("descId",t?t.descId:0),$("td:eq(5), td:eq(6)",o).html(""),n(),$(".delete",o).click(function(){$(this).parent().parent().remove(),n()}),window.setInterval(function(){var t=o.find("[v=oj]").val(),e=o.find("[v=probNum]").val(),n=t+"|"+e;o.attr("lastHash")!=n&&(o.data("info",null),o.attr("lastHash",n),""!=e&&$.post(basePath+"/problem/findProblemSimple",{oj:t,problemId:e},function(n){var a=n[0],s=n[1],i=n[2],r=n[3],l=n[4];if(t==r&&e.trim()==l){var c=o.children().eq(-1),d="<i class='fa'></i> ";d+=null==a?"<span>No such problem!</span>":"<a target='_blank' href='"+basePath+"/problem/"+(r+"-"+l)+"'><span>"+s+"</span></a>",c.html(d).find("i").addClass(["fa-check text-success","fa-spinner fa-spin","fa-exclamation-triangle text-danger"][i]),$("[v=pid]",o).val(a),1===i?window.setTimeout(function(){o.attr("lastHash","")},500):0===i&&o.data("info",{oj:r,probNum:l,pid:a})}}))},100)}function n(){a.appendTo($("#addtable").find("tbody")),$("tr.cp_row").each(function(t){var e=$("td:last-child",$(this));e.prev().html(String.fromCharCode(65+t))}),$("tr.cp_row.real").length>=26?$("#addBtn").hide():$("#addBtn").show()}for(var a=$("#cp_row_template"),o=$("#addBtn"),s=e.getOjsList(),i=0;i<s.length;i++)a.find("select").append("<option value='"+s[i].name+"'>"+s[i].name+"</option>");o.click(function(){t()}).find("img").attr("src",imagesRoot+"/ico_add.png"),a.find("a img").attr("src",imagesRoot+"/no.png"),p.problems.forEach(function(e){t(e)}),$("tr.cp_row.real").length<1&&t(),$(".sorted_table").sortable({containerSelector:"table",itemPath:"> tbody",itemSelector:"tr",placeholder:'<tr class="placeholder"/>',onDrop:n})}function i(){function t(t){var e=$("#clarifyRankCell_form");e.empty(),e.append("<div class='row' style='margin: 20px;'>What do these cells stand for:</div>"),Object.keys(t).forEach(function(n){var a=t[n],o=$("<select class='custom-select' style='width: 9999px'></select>");o.attr("behalf",n);for(var s in a)o.append("<option value='"+s+"'>"+a[s]+"</option>");e.append($("<div class='form-group row' />").append("<div class='col-sm-3' style='text-align: right'>"+n+"</div>").append("<div class='col-sm-9'>"+o[0].outerHTML+"</div>"))})}var e=function(){try{if(r(),p.problems.length<=0)throw"Please select at least 1 problem";return this.setParams({contestLength:p.length,problemNumber:p.problems.length}),!0}catch(t){return $("#edit-alert").text(t).show(),!1}};n.e(0,function(n){var a=[n(51)];(function(n){new n.FineUploader({element:document.getElementById("uploader"),request:{endpoint:basePath+"/contest/uploadRank",inputName:"rankListFile"},validation:{allowedExtensions:["xls","xlsx","csv"],sizeLimit:10485760},callbacks:{onUpload:function(t,n){return e.call(this)},onManualRetry:function(t,n){return e.call(this)},onComplete:function(e,n,a){a.cellMeaningOptions?(t(a.cellMeaningOptions),$("#edit-alert").hide()):$("#edit-alert").text(a.error).show()}}})}).apply(null,a)})}function r(){function t(t){if(!t.match(/^\d{1,4}:\d{1,2}:\d{1,2}$/))throw"Length format should be 'hh:mm:ss'";var e=t.split(/\D+/),n=parseInt(e[0],10),a=parseInt(e[1],10),o=parseInt(e[2],10);return 1e3*(3600*n+60*a+o)}function n(){var t=[];return $("tr.real").each(function(e,n){var a=$(n),o=a.data("info"),s=a.find("td.num").text();if(!o)throw"Problem "+s+" is not ready";o.alias=a.find("[v=alias]").val(),o.weight=a.find("[v=weight]").val(),o.descId=a.data("descId")||0,t.push(o)}),t}function a(){var t={};return $("#clarifyRankCell_form").find("select").each(function(e,n){var a=$(n).attr("behalf");t[a]=n.value}),Object.keys(t).length?t:null}p.groupId=u.find("#contest-group").val(),p.password=u.find("#contest-password").val(),p.title=u.find("#contest-title").val(),p.beginTime=e.parseDate(u.find("#contest-begin-time").val()).valueOf(),p.length=t(u.find("#contest-length").val()),p.description.content=u.find("#contest-description-edit").val(),p.announcement=u.find("#contest-announcement-edit").val(),p.problems=n(),p.rankCellMeaning=a(),p.penalty=u.find("#contest-penalty").val()}function l(){var t=$("#btn-confirm");t.click(function(){try{r()}catch(e){return $("#edit-alert").text(e).show(),!1}t.prop("disabled",!0),$.ajax({type:"POST",url:basePath+"/contest/edit",dataType:"json",contentType:"application/json",data:JSON.stringify(p)}).done(function(e){console.log(e),e.error?(t.prop("disabled",!1),$("#edit-alert").text(e.error).show()):e.contestId&&(window.location.href=basePath+"/contest/"+e.contestId)}).fail(function(e,n,a){t.prop("disabled",!1),$("#edit-alert").text(n+" - "+a).show()})})}function c(){const t=p&&1===p.sumTime&&1200===p.penalty&&0===p.partialScore&&p.problems.every(function(t){return 1===t.weight});return t?0:1}function d(){p.errMsg?(u.find(".modal-body").hide(),$("#edit-alert").text(p.errMsg).show()):(o(),s(),i(),l())}var u,p,m,f=n(56),v={type:1,contestId:0,groupId:1002,password:null,openness:1,title:"Test a contest",beginTime:1479577986e3,length:18e6,timeMachine:1,description:{content:"真棒啊!",format:"HTML"},announcement:"Hei Hei !",problems:[{oj:"POJ",probNum:"1001",alias:"Alias 666",pid:1234},{oj:"HUST",probNum:"1001",alias:"Alias 233",pid:12345}],rankCellMeaning:{"":0,"-1":1,"123(-2)":2},groups:{1001:"Group A",1002:"Group B"},errMsg:"Unknown error!"};t.exports={show:function(t){u=$(f),u.appendTo(document.body),u.on("show.bs.modal",function(){p=t||v,m=$.extend(!0,{},p),d()}).on("hidden.bs.modal",function(){$(this).remove(),$(".popover").remove()}).modal("show")}}}).call(e,n(1))},function(t,e,n){(function(e){function a(){s.isCreate||$("#createGroupModalLabel").html("Update group ["+s.name+"]"),s.intro=s.intro||{format:"MD"},$("#group-name").val(s.name),$("#group-short-name").val(s.shortName),e.initBootstrapRadio($("#group-visibility"),s.pblc?"1":"0",function(t){s.pblc=1===parseInt(t)}),e.initBootstrapRadio($("#group-join-policy"),s.joinPolicy||0,function(t){s.joinPolicy=t}),$("#group-brief").val(s.brief),$("#group-intro").val(s.intro.content),e.initBootstrapRadio($("#group-intro-format"),s.intro.format||"MD",function(t){s.intro.format=t}),$("#create-group-alert").hide(),$("#btn-confirm").click(function(){s.name=$("#group-name").val(),s.shortName=$("#group-short-name").val(),s.brief=$("#group-brief").val(),s.intro.content=$("#group-intro").val(),s.test={a:{b:{c:0}}};var t=s.isCreate?"create":"update";return $.ajax({type:"POST",url:basePath+"/group/"+t,dataType:"json",contentType:"application/json",data:JSON.stringify(s)}).done(function(t){t.shortName?window.location.href=basePath+"/group/"+t.shortName:$("#create-group-alert").html(t.error).show()}),!1})}var o,s,i=n(59);t.exports={show:function(t){o=$(i),o.appendTo(document.body),o.on("show.bs.modal",function(){s=t,a()}).on("hidden.bs.modal",function(){$(this).remove()}).modal("show")}}}).call(e,n(1))},,function(t,e,n){(function(e){function a(t,n,a){const o=this;this.solveInfo={},this.init=function(){$(c).appendTo(n).ready(function(){o.renderSubmissions(),o.renderContent(),o.renderProblems(),o.initComment(),o.initVote(),o.renderDelete()})},this.renderSubmissions=function(){t.content=t.content.replace(/\[\s*submission\s*:\s*(\d+)\s*\]/g,"<a href='#' class='view-solution' data-run-id='$1'>$1</a>")},this.renderDelete=function(){n.find(".delete-article").click(function(){i.showModal({title:"Confirm",body:"Are you sure to delete this article ?",callback:function(){$.post(basePath+"/article/delete/"+t.id,function(t){t.error?i.showError(t.error):location.href=basePath+"/user/"+e.getUsername()})}})})},this.renderContent=function(){var s=n.find(".article-content"),i=/\[\s*problem\s*:\s*(\w+)\W+(\w[-\w]*?)\s*\]/g,l=e.renderHyperText({content:t.content,format:"MD"},!0).replace(i,function(t,e,n){var a=e+"-"+n,s=o.solveInfo[a]===!0?"tag-success":o.solveInfo[a]===!1?"tag-warning":"tag-default";return"<a target='_blank' href='"+basePath+"/problem/"+a+"'><span class='tag "+s+"'>"+e+" "+n+"</span></a>"});e.renderHyperText({content:l,format:"HTML"},t.trustable,s),n.find(".view-solution").click(function(){var t=$(this).data("run-id");r.showModal(t)});const c=n.find(".article-title");a?c.html($("<a href='"+basePath+"/article/"+t.id+"' target='_blank'>").text(t.title)):c.text(t.title),n.find(".createTime").text(e.formatDate(t.createTime)),n.find("a.author").attr("href",basePath+"/user/"+t.author).html(t.author),e.getUsername()===t.author?n.find("a.edit-article").attr("href",basePath+"/article/update/"+t.id):n.find("span.manage").hide(),n.find("i.view").html(t.viewCnt),n.find("div.fb-like").data("href",basePath+"/article/"+t.id)},this.renderProblems=function(){for(var e,n={},a=/\[\s*problem\s*:\s*(\w+)\W+(\w[-\w]*?)\s*\]/g;e=a.exec(t.content);){var s=e[1],i=e[2],r=s+"-"+i;r.length<40&&(n[r]=!0)}n=Object.keys(n),n.length>0&&$.post(basePath+"/status/solveInfo",{probs:n},function(t){o.solveInfo=t,o.renderContent()})},this.initComment=function(){var e=n.find(".article_discuss");l.show("article/"+t.id,e)},this.initVote=function(){function a(t){const e=n.find("i.like"),a=n.find("i.dislike");e.html(" "+t.likeCnt),a.html(" "+t.dislikeCnt),e.css("font-size",t.like===!0?"24px":"16px"),a.css("font-size",t.like===!1?"24px":"16px")}a(t),e.getUsername()&&(n.find("i.like").click(function(){t.like=t.like!==!0||null,$.post(basePath+"/article/vote/"+t.id,{like:t.like},a)}),n.find("i.dislike").click(function(){t.like=t.like===!1&&null,$.post(basePath+"/article/vote/"+t.id,{like:t.like},a)}))}}function o(){const t=$("[name=dataJson]");if(t.length){const e=JSON.parse(t.val());new a(e,$("#article-container"),(!1)).init()}}function s(t){i.showModal({large:!0,onShow:function(){var e=$("#confirm-body");e.css("background-color","#e9e9e9"),$.get(basePath+"/article/data/"+t,function(t){new a(t,e,(!0)).init()}),$(this).find(".modal-footer").remove(),$(this).find(".modal-header").remove()}})}var i=n(5),r=n(3),l=n(4),c=n(52);$(o),t.exports={showModal:s}}).call(e,n(1))},function(t,e,n){(function(t){$(function(){function e(){$("#register-captcha-img").attr("src",basePath+"/util/captcha?"+t.getServerTime())}t.init(),$("a.login").click(function(){var e=this.href;t.doIfLoggedIn(function(){e.endsWith("#")||e.indexOf("void(0)")>=0?location.reload():location.href=e})}),$("a.logout").click(function(){$.post(basePath+"/user/logout",function(){window.location.reload()})}),location.href.indexOf("/contest/")>=0?$("#nav-contest").addClass("active"):location.href.indexOf("/status")>=0?$("#nav-status").addClass("active"):location.href.indexOf("/problem")>=0?$("#nav-problem").addClass("active"):location.href.indexOf("/contest")>=0?$("#nav-contest").addClass("active"):location.href.indexOf("/user")>=0?$("#nav-user").addClass("active"):location.href.indexOf("/group")>=0?$("#nav-group").addClass("active"):location.href.indexOf("/comment")>=0?$("#nav-comment").addClass("active"):location.href.indexOf("/article")>=0&&$("#nav-article").addClass("active");var a=$("#loginModal");a.on("show.bs.modal",function(){$("#login-alert").hide(),a.off("hidden.bs.modal")}),$("#btn-login").click(function(){
$("#login-form").submit()}),$("#login-form").submit(function(){var e={username:$("#login-username").val(),password:$("#login-password").val()};return $.post(basePath+"/user/login",e,function(e){"success"===e?a.on("hidden.bs.modal",function(){t.loginSuccess()}).modal("hide"):$("#login-alert").html(e).show()}),!1}),$("#btn-forget-password").click(function(){$.post(basePath+"/user/findPassword2?userName="+$("#login-username").val(),function(t){$("#login-alert").html(t).show()})});var o=$("#registerModal");$("#register-captcha-img").click(e),o.on("show.bs.modal",function(){$("#register-alert").hide(),e()}),$("#btn-register").click(function(){$("#register-form").submit()}),$("#register-form").submit(function(){var t={username:$("#register-username").val(),password:$("#register-password").val(),repassword:$("#register-repeat-password").val(),nickname:$("#register-nickname").val(),school:$("#register-school").val(),qq:$("#register-qq").val(),email:$("#register-email").val(),blog:$("#register-introduction").val(),captcha:$("#register-captcha").val(),share:1};return $.post(basePath+"/user/register",t,function(t){"success"==t?(o.modal("hide"),window.location.reload()):$("#register-alert").html(t).show()}),!1}),$(".update-profile").click(function(){$.get(basePath+"/user/update",function(t){n(22).show(t)})});var s=$("#newMessage"),i={"-webkit-animation":"twinkling 1s infinite ease-in-out",color:"red"};"true"===s.val()&&($("#userNameDropdown").css(i),$("div.user-dropdown a.message").css(i)),$("#img-support").click(function(){var t=location.href;location.href=basePath+"/message?to=Isun&initContent="+encodeURIComponent("My location: "+t+"\n\nFeedback:")}),void 0===t.getUsername()&&$("#img-support").hide()})}).call(e,n(1))},function(t,e,n){function a(t){}function o(){}function s(){var t=$("#contest_discuss");r.show("contest/"+i.id,t,function(t){$("a[section=discuss]").html(t+" Comments")})}var i,r=n(4);t.exports=function(t){i=t,s(),this.dispatch=a,this.leave=o}},function(t,e,n){(function(e){function n(){$("#contest-manager").prepend(["<span style='color:blue'>Public</span>","<span style='color:orange'>Protected</span>","<span style='color:red'>Private</span>"][o.openness]+". Prepared by <a href='"+basePath+"/user/"+o.managerName+"' target='_blank'>"+o.managerName+"</a>"+(o.groupName?" @ <a href='"+basePath+"/group/"+o.groupShortName+"' target='_blank'><img src='"+imagesRoot+"/group.png' height='15'/>"+o.groupName+"</a>":"")+(o.createTime?", "+e.formatDate(o.createTime):"")),e.renderHyperText(o.description,!1,$("#contest-description"))}function a(t){}var o;t.exports=function(t){o=t,n(),this.dispatch=a}}).call(e,n(1))},function(t,e,n){(function(e){function a(){r={};for(var t=0;t<i.problems.length;t++){var e=i.problems[t];r[e.num]={title:e.title,oj:e.oj}}}function o(t){var n=t.length>0?t[0]:"A";$("#problem-nav").find("a").removeClass("active").filter("[num="+n+"]").addClass("active");var a=n.charCodeAt(0)-"A".charCodeAt(0),o=i.problems[a],c=o.num+" - "+o.title;if(o.probNum&&(c="<a href='"+basePath+"/problem/"+o.oj+"-"+o.probNum+"' target='_blank'>"+c+"</a>"),$("#problem-title").html(c),o.pid?$("#problem-origin").attr("href",basePath+"/problem/"+o.pid+"/origin").html(o.oj+" - "+o.probNum).append(" <i class='fa fa-external-link'></i>").show():$("#problem-origin").hide(),2==i.type?$("#prob-operation").hide():($("#problem-submit").off("click").click(function(){l({inContest:!0,oj:o.oj,contestId:i.id,needPassword:1==i.authStatus&&0==i.type,num:o.num,probInfo:r})}),$("#btn-contest-status").attr("href","#status//"+o.num+"/0/"),$("#btn-contest-my-status").attr("href","#status/"+e.getUsername()+"/"+o.num+"/0/")),$.isEmptyObject(o.properties))$("#prob-properties").hide();else{var d=$("#prob-properties dl").empty();$.each(o.properties,function(t,e){d.append("<dt class='col-sm-4'>"+t+"</dt>"),d.append("<dd class='col-sm-8'>"+e+"</dd>")}),$("#prob-properties").show()}if(o.allDescBriefs){var u=$("#prob-descs");u.empty(),$.each(o.allDescBriefs,function(t,e){var n="0"==e.author?"<b>System Crawler</b>":e.author,a=o.publicDescId==e.id?"<i class='fa fa-check text-primary' data-id='"+e.id+"'>&nbsp;&nbsp;&nbsp;</i>":"<i class='fa fa-hand-o-right choose-desc text-primary' data-id='"+e.id+"'>&nbsp;&nbsp;&nbsp;</i>";u.append("<li class='list-group-item'>"+a+"<a href='javascript:void(0)'    class=''    data-id='"+e.id+"'    data-version='"+e.version+"'    data-author='"+e.author+"'    data-toggle='tooltip'    title='"+e.remarks+"'>"+n+"</a><small style='color: grey;padding-left: 10px'> "+e.updateDate+"</small></li>")}),u.find("i.choose-desc").click(function(){$.post(basePath+"/contest/appointDescription/"+i.id+"/"+o.num,{id:$(this).data("id")},function(){window.location.reload()})}),$('[data-toggle="tooltip"]').tooltip(),$("#prob-descriptions").show();var p=u.find("a");p.click(function(){p.parent("li").removeClass("active"),$(this).parent("li").addClass("active");var t=$(this).data("id"),e=$(this).data("version");s(basePath+"/problem/description/"+t+"?"+e)}).filter("[data-id="+o.publicDescId+"]").click()}else $("#prob-descriptions").hide(),s(basePath+"/problem/description/"+o.publicDescId+"?"+o.publicDescVersion)}function s(t){var e=$("#frame-description-container");if(e.find("iframe").hide(),t in c)c[t].show();else{var n=$("<iframe src='"+t+"'         width='100%'         height='900px'        frameborder='0'        scrolling='no'></iframe>").appendTo(e);c[t]=n;var a,o=function(){clearTimeout(a),a=setTimeout(function(){var t=n.contents().find("body").height();n.css("height",t+50+"px")},1e3)};n[0].onload=o,$(window).on("resize",o)}}var i,r,l=n(6),c={};t.exports=function(t){i=t,a(),this.dispatch=o}}).call(e,n(1))},function(t,e,n){(function(e){function a(){$(window).on("updateRank",l);var t=$("#contest-rank-table");$(document).on("mouseenter","td.penalty",function(){t.addClass("hover_penalty")}).on("mouseleave","td.penalty",function(){t.removeClass("hover_penalty")}),$(document).on("mouseenter","td.meta",function(){var t=$(this).parent().attr("c");$("tr[c="+t+"] td.meta").addClass("same")}).on("mouseleave","td.meta",function(){var t=$(this).parent().attr("c");$("tr[c="+t+"] td.meta").removeClass("same")}),$(document).on("dblclick","td.meta",function(){var t=$(this).parent().attr("c");if(t!=h.id){var e=h.setting.hideContests||[];e.indexOf(t)<0&&e.push(t),h.saveSetting()}}),$(document).on("click","#show-all-teams",function(){h.setting.showTeam="all",h.saveSetting()}),$(document).on("click","td.accepted, td.failed, td.upsolved, td.pending",function(){var t=$(this).parents("tr"),n=t.attr("c"),a=t.attr("u"),o=t.find("td:eq(1) div").html(),s=String.fromCharCode(65+$(this).index()-4);h.ranks[n].isReplay||(3===h.authStatus||h.ended||h.showPeers)&&(e.sendGaPageview(),$.get(basePath+"/contest/teamProblemStatus/"+n,{uid:a,num:s,afterContest:h.ended},function(t){b.showModal({title:o+"'s submissions for problem "+s,body:t,large:!0,fade:!1})}))}),s(),r()}function o(t){return e.storage.get("contest.view."+t,{}).hideContests||[]}function s(){function t(){a.popover("dispose"),$("div.popover").remove()}function n(t,n){var a=h.ranks[t],o={Contest:"<a href='"+basePath+"/contest/"+t+"' target='_blank'>"+(a.isReplay?"<img src='"+imagesRoot+"/replay.png' height='20'/>":"")+a.title+"</a>","Begin Time":e.formatDate(a.begin),Length:e.formatTimeSpan(a.length),Teams:Object.keys(a.participants).length,Submissions:a.submissions.length,Hide:"Double click to hide this contest from rank"};t==h.id&&delete o.Hide;var s=$("<dl class='row' style='width: 500px'></dl>");return $.each(o,function(t,e){s.append("<dt class='col-sm-3'>"+t+"</dt>"),s.append("<dd class='col-sm-9'>"+e+"</dd>")}),s[0].outerHTML}var a=$();$(document).on("mouseenter","td.meta",function(){var e=$(this);t(),a=e.popover({content:function(){var t=$(this).parents("tr");return n(t.attr("c"),t.attr("u"))},html:!0,placement:"right",trigger:"manual"}),e.click(function(){a.popover("show")})}).on("mouseleave","div.popover",t)}function i(t,e,n){$.ajax({dataType:"json",url:t,type:"GET",success:e,error:n})}function r(){function t(){0===--e&&c()}if(void 0!==h.problemsHash){h.ranks=h.ranks||{};var e=1+h.privatePeerContestIds.length;i(basePath+"/contest/rank/merged/"+h.problemsHash,function(e){$.extend(h.ranks,e,h.ranks),t()},function(){console.log("Failed fetching rank of "+h.problemsHash)}),$.each(h.privatePeerContestIds,function(e,n){i(basePath+"/contest/rank/single/"+n,function(e){h.ranks[n]=e,t()},function(){console.log("Failed fetching rank of "+n)})})}}function l(){if(!(e.sinceLastClick()>w)){var t=h.selectMoment();if(h.ranks=h.ranks||{},t-g<5e3)return void c();g=t,i(basePath+"/contest/rank/single/"+h.id,function(t){h.ranks[h.id]=t,c()},function(){console.log("Failed fetching rank of "+h.id)})}}function c(){function t(){for(var t=[],e=0;e<a;e++)t.push([void 0,0,0,0,0]);return t}if(void 0!==h.ranks){var n=h.setting,a=h.problems.length,s=h.selectMoment();h.length=h.end-h.begin;var i=s/1e3,r={},l=o(h.id),c="1"===n.showPractice,f=h.partialScore;$.each(h.ranks,function(e,n){if(!(l.indexOf(e)>=0)){e=parseInt(e);for(var a=0;a<n.submissions.length;a++){var o=n.submissions[a],d=o[0],u=o[1],p=o[2],m=o[3],v=o[4],b=o[5];if(!(m<=i||s>=h.length&&c))return;var g=e+"-"+d,$=r[g];void 0===$&&($={contestId:e,userId:d,score:0,penalty:0,problems:t()},r[g]=$);var y=$.problems[u];if(void 0===y)return;void 0===y[0]&&(y[0]=0);var w=f&&v>=0&&b>0?v/b:1===p?1:0;w>y[4]&&(y[1]=m,y[4]=w),0===p?(1!==y[0]&&y[2]++,2!==y[0]&&y[3]++):1===p&&1!==y[0]?y[0]=1:2===p&&1!==y[0]&&(y[0]=2)}}});var v=Object.keys(r).map(function(t){return r[t]});v.forEach(function(t){for(var e=0,n=0;n<a;n++){var o=t.problems[n];t.score+=h.problems[n].weight*o[4],h.sumTime?t.penalty+=o[1]:t.penalty=Math.max(t.penalty,o[1]),1!==o[0]||f||(e+=h.penalty*o[2])}t.penalty+=e}),v.sort(function(t,e){return e.score-t.score||t.penalty-e.penalty||t.userId-e.userId});for(var b=[],g=[],y=[],w=0;w<a;w++)b[w]=1e20,g[w]=0,y[w]=0;$.each(v,function(t,e){for(var n=0;n<a;n++){var o=e.problems[n];1===o[0]&&(b[n]=Math.min(b[n],o[1]),g[n]++,y[n]++),y[n]+=o[2]}});var k=[],x=r[h.id+"-"+e.getUserId()];if(void 0!==x)for(var w=0;w<a;w++)k[w]=x.problems[w][0];"rank"===h.section&&(d(a,v,b,g,y,k),u(),p()),m(s);for(var T=0;T<a;T++){var P=["<span class='tag tag-warning'>Attempted</span>","<span class='tag tag-success'>Solved</span>","<span class='tag tag-info'>Pending</span>"][k[T]]||"",C=$("#contest-problems").find("tbody tr:eq("+T+")"),w=String.fromCharCode(65+T);C.find("td.my-stat").html(P),C.find("td.all-stat").html(y[T]>0?"<a href='#status//"+w+"/1/'>"+g[T]+"</a> / <a href='#status//"+w+"/0/'>"+y[T]+"</a>":"")}}}function d(t,n,a,o,s,i){var r=h.setting,l="all"===r.showTeam,c="1"===r.showTimestamp,d=[],u=[],p=!1;u.push("<thead><tr>   <th class='rank' rowspan='2'><div>Rank</div></th>   <th class='team' rowspan='2'><div>Team</div></th>   <th class='solve' rowspan='2'><div>Score</div></th>   <th class='penalty' rowspan='2'><div>Penalty</div></th>");for(var m=[],f=0;f<t;f++)m[f]=["failed","accepted","pending"][i[f]];for(var f=0;f<t;f++){var v=String.fromCharCode(65+f);u.push("<th class='prob "+m[f]+"'><div><a href='#problem/"+v+"'>"+v+"</a></div></th>")}u.push("</tr><tr>");for(var f=0;f<t;f++)u.push("<th class='prob "+m[f]+"'><div>"+o[f]+(c?" / "+s[f]:"")+"</div></th>");u.push("</tr></thead>"),d.push(u.join("")),$.each(n,function(n,o){if(!l){var s=o.contestId===h.id?100:50,i=d.length-1;if(i>=s)return void(p=!0)}var r=[],u=h.ranks[o.contestId],m=u.participants[o.userId],f=m[0];m[1]&&(f+=" <span style='color:gray'>("+e.escapeHtml(m[1])+")</span>"),f=u.isReplay?"<span style='color:gray'>"+f+"</span>":"<a href='"+basePath+"/user/"+m[0]+"' target='_blank'>"+f+"</a>";var v=(o.contestId==h.id?"this":"")+" "+(o.userId==e.getUserId()?"myself":"");r.push("<tr c='"+o.contestId+"' u='"+o.userId+"' class='"+v+"'><td class='rank meta'>"+(n+1)+"</td><td class='team meta'><div>"+f+"</div></td><td class='solved meta'><a href='#status/"+m[0]+"/-/0/'>"+1*o.score.toFixed(2)+"</a></td><td class='penalty meta'>   <span class='minute'>"+Math.floor(o.penalty/60)+"</span>   <span class='hms'>"+e.formatTimeSpan(1e3*o.penalty)+"</span></td>");for(var b=0;b<t;b++){var g=o.problems[b],$=g[0],w=g[1],k=g[2],x=g[3],T=(g[4]*h.problems[b].weight).toFixed(2),P=1===$&&1e3*w>h.length,C=1===$&&!P&&c?e.formatTimeSpan(1e3*w)+"<br>":"",I=0!=T&&1!=T?"<b>"+T+"</b>":"",q=2===$?x:k,S=q>0?c?" <span>(-"+q+")</span>":" <span>-"+q+"</span>":y,j=0===$?"failed":1===$?P?"upsolved":"accepted":2===$?"pending":"";1!==$||w!==a[b]||P||(j+=" fb"),r.push("<td class='prob "+j+"'>"+C+I+S+"</td>")}d.push(r.join(""))}),p&&d.push("<tr><td colspan='4'><a href='javascript:void(0)' id='show-all-teams'>Show all "+n.length+" teams ...</a></td><td colspan='"+t+"'></td></tr>");var b=$("#contest-rank-table");b.html(d.join("")),c?b.removeClass("hide-timestamp"):b.addClass("hide-timestamp"),b.css("width","100%");var g=b.find("td:eq(1)").width();g>185&&b.css("width","auto")}function u(){function t(){a.css("left",n.offset().left-$(this).scrollLeft()+"px"),a.width(n.width())}var e=$("#contest-rank-table"),n=e.find("thead"),a=n.clone().css({position:"fixed",top:0,display:"none"}).attr("id","rank-table-header").prependTo(e);t(),$(window).off("scroll").on("scroll",function(){if("rank"===h.section){var e=n.offset().top,o=$(this).scrollTop();o>=e&&a.is(":hidden")?a.show():o<e&&a.hide(),t()}}).off("resize").on("resize",t)}function p(){$("#img_find_me").css("visibility",$("tr.this.myself").length?"visible":"hidden").off("click").click(function(){var t=$("tr.this.myself");return $("body").animate({scrollTop:t.offset().top-43,queue:!1},500),!1})}function m(t){var n=0==Object.keys(h.ranks).length?"<i class='fa fa-refresh fa-spin'></i>":"("+e.formatTimeSpan(t)+")";$("a[section=rank]").html("Rank "+n)}function f(t){c()}function v(){$("#rank-table-header").hide()}var h,b=n(5),g=-99999,y="&nbsp;",w=18e4;t.exports=function(t){h=t,a(),this.dispatch=f,this.leave=v}}).call(e,n(1))},function(t,e,n){(function(e){function a(t){return e.storage.get("contest.view."+t,{}).hideContests||[]}function o(){function t(t){var e=t||o.find("input[name=cid]");e.each(function(){var t=$(this).val()+"",e=l.hideContests.indexOf(t);e>=0&&l.hideContests.splice(e,1);var n=$(this).prop("checked")===!0;n||l.hideContests.push(t)}),r.saveSetting()}var n=a(r.id),o=$("#contest-setting-table").find("tbody"),s=Object.keys(r.ranks).map(function(t){return r.ranks[t]});s.sort(function(t,e){return e.begin-t.begin}),$.each(s,function(t,a){var s=Object.keys(a.participants).length;if(r.id!=a.id&&0!==s){var i=n.indexOf(a.id+"")>=0;o.append("<tr>   <td><input type='checkbox' name='cid' value='"+a.id+"' "+(i?"":"checked")+" /></td>   <td class='teams'><div><a href='"+basePath+"/contest/"+a.id+"' target='_blank'>"+(a.isReplay?"<img src='"+imagesRoot+"/replay.png' height='20'/>":"")+a.title+"</a></div></td>   <td>"+s+"</td>   <td>"+e.formatDate(a.begin)+"</td>   <td>"+e.formatTimeSpan(a.length)+"</td></tr>")}}),r.enableTimeMachine||$("#contest-setting-hint").show(),0==o.find("tr").length&&$("#history-contest-container").hide(),o.find("input[name=cid]").change(function(){t($(this))}),$("#setting-check-all").prop("checked",$("[name=cid]:checked").length>0).change(function(){$("[name=cid]").prop("checked",$(this).prop("checked")),t()})}function s(){o(),e.initBootstrapRadio($("#setting-show-teams"),l.showTeam,function(t){l.showTeam=t,r.saveSetting()}),e.initBootstrapRadio($("#setting-show-practice"),l.showPractice,function(t){l.showPractice=t,r.saveSetting()}),e.initBootstrapRadio($("#setting-show-timestamp"),l.showTimestamp,function(t){l.showTimestamp=t,r.saveSetting()}),$("#btn-export-submissions").attr("href",basePath+"/contest/exportSource/"+r.id),3!=r.authStatus&&$("#btn-export-submissions").hide(),$("#btn-export-rank").click(function(){var t=$("#contest-rank-table-export");t.html($("#contest-rank-table").html()),t.find("thead:eq(0), thead:eq(1) tr:eq(1), span.minute, br").remove(),t.show();var e=window.open("",r.title);return e.document.write("<html><head><title>"+r.title+"</title></head>"),e.document.write("<body>"+t[0].outerHTML+"</body></html>"),t.hide(),!1})}var i,r,l,c=n(57);t.exports={showModal:function(t){i=$(c),i.appendTo(document.body),i.on("show.bs.modal",function(){r=t,l=r.setting,s()}).on("hidden.bs.modal",function(){$(this).remove()}).modal("show")}}}).call(e,n(1))},function(t,e,n){(function(e){function n(){function t(){return $("#listStatus").DataTable({processing:!0,serverSide:!0,pageLength:20,dom:'<"H"pr<"#buttonContainer">>t<"F">',autoWidth:!1,stateSave:!0,language:{info:"_START_ to _END_ of _TOTAL_ submissions",infoEmpty:"No submissions",infoFiltered:" (filtering from _MAX_ total submissions)",thousands:""},ordering:!1,order:[[0,"desc"]],pagingType:"simple_numbers",ajax:{url:basePath+"/status/data/",type:"POST",data:function(t){$.extend(t,u)},dataSrc:function(t){for(var e=[],n=0,a=t.data.length;n<a;n++){var o=t.data[n];e.push(i(o)),h[o.runId]=o}return e}},columns:[{className:p[0]},{className:p[1]},{className:p[2]},{className:p[3]},{className:p[4]},{className:p[5]},{className:p[6]},{className:p[7]},{className:p[8]}],columnDefs:[{targets:"_all",orderable:!1}],createdRow:function(t){m($(t))},preDrawCallback:function(t){e.sendGaPageview()},drawCallback:function(t){e.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")}),s(),f()},initComplete:function(t,e){$("#filter").show().button().appendTo("#buttonContainer").click(function(){n()||a()}),$("#reset").show().button().appendTo("#buttonContainer").click(function(){$("[name='un']").val(""),$("[name='num']").val("-"),$("[name='res']").val("0"),$("[name='language']").val(""),n()||a()}),$("#rejudge-all").button().appendTo("#buttonContainer").click(function(){$("i.rejudge").click()})}})}function n(){var t=$("[name='un']").val().trim(),e=$("#contest-status-num").val(),n=$("[name='res']").val(),a=$("[name='language']").val(),o=location.hash;return location.hash="#status/"+t+"/"+e+"/"+n+"/"+a,o!=location.hash}function o(){clearInterval(y),y=setIntervalAndExecute(s,2e3)}function s(){if(!(e.sinceLastClick()>18e4)){var t=[];$("tr.processing").each(function(){t.push($(this).attr("id"))}),t.length&&$.post(basePath+"/status/dataById",{runIds:t,contestId:r.id},function(t){for(var e in t){var n=t[e];h[e]=n;var a=$("<tr/>"),o=i(n);$.each(o,function(t,e){a.append($("<td/>").html(e).addClass(p[t]))}),m(a);var s=$("#"+e);s.attr("class",a.attr("class")),s.find("td:eq(3)").replaceWith(a.find("td:eq(3)"))}})}}function i(t){var e=t.status.length>15?t.status:"",n=t.processing?" <i class='fa fa-refresh fa-spin'></i>":"",a=t.processing||2!=t.statusType?"":" <i class='fa fa-refresh rejudge' data-run-id='"+t.runId+"' data-toggle='tooltip' title='Click to rejudge'></i>",o={CPP:"C++",C:"C",JAVA:"Java",PASCAL:"PASCAL",PYTHON:"Python",CSHARP:"C#",RUBY:"Ruby",OTHER:t.language}[t.languageCanonical];return[t.runId,"<div><a href='"+basePath+"/user/"+t.userName+"' target='_blank'>"+t.userName+"</a><img src='"+imagesRoot+"/find_me.png' /></div>",t.contestNum?"<div><a href='#problem/"+t.contestNum+"'>"+t.contestNum+"</a><img src='"+imagesRoot+"/find_me.png' /></div>":"<i class='fa fa-exclamation-triangle text-danger' data-toggle='tooltip' title='Problem is removed from this contest'></i>","<div class='view-solution' data-toggle='tooltip' title='"+e+"' data-run-id='"+t.runId+"'>"+n+a+" "+t.status+"</div>",0==t.statusType?t.runtime:"",0==t.statusType&&t.memory>0?Math.round(t.memory/1e3*10)/10:"",t.sourceLength,"<div data-toggle='tooltip' data-html='true' title='"+t.language+"' class='view-solution "+["forbidden","self","shared"][t.access]+"' data-run-id='"+t.runId+"'>"+o+"</div>","<div class='localizedTime' data-time='"+t.time+"' />"]}function m(t){var e=t.find("td:eq(0)").text(),n=h[e];t.attr("id",e),t.addClass(["accepted","failed","pending"][n.statusType]),n.processing&&t.addClass("processing"),t.find('[data-toggle="tooltip"]').tooltip()}function f(){$("tr.pending:not(.processing)").length>0?$("#rejudge-all").show():$("#rejudge-all").hide()}var v=$("#contest-status-num"),h={};$.extend(u,{inContest:!0,contestId:r.id});for(var b=0;b<r.problems.length;b++){var g=r.problems[b];v.append("<option value='"+g.num+"'>"+g.num+" - "+g.title+"</option>")}l=t(),v.change(n),$("#language").change(n),$("#res").change(n),$(".search_text").click(function(t){t.stopPropagation()}).keypress(function(t){t.stopPropagation()}).change(function(){n()}),$(document).on("click","td.username img",function(){var t=$("#un"),e=$(this).parent().find("a").text();t.val()==e?t.val(""):t.val(e),n()}),$(document).on("click","td.num img",function(){var t=$(this).siblings("a").text();v.val()==t?v.val("-"):v.val(t),n()}),$(document).on("click","i.rejudge",function(t){var e=$(this),n=e.data("run-id");$.post(basePath+"/problem/rejudge/"+n,function(){e.parents("tr").addClass("processing"),o()}),t.stopPropagation()}),c=o,d=function(){clearInterval(y)};var y}function a(){$("[name='un']").val(u.un),$("[name='num']").val(u.num),$("[name='res']").val(u.res),$("[name='language']").val(u.language),l&&l.draw()}function o(t){t.length<4?(u.un="",u.num="-",u.res="0",u.language=""):(u.un=t[0],u.num=t[1],u.res=t[2],u.language=t[3]),i?a():(n(),i=!0),c()}function s(){d()}var i,r,l,c,d,u={},p=["run-id hidden-lg-down","username","num","status","runtime","memory","length hidden-lg-down","language","date"];t.exports=function(t){r=t,this.dispatch=o,this.leave=s}}).call(e,n(1))},function(t,e,n){(function(e){function a(){e.renderHyperText({content:m.announcement,format:"MD"},!1,$("#contest-announcement"))}function o(){function t(){n.find("i").attr("class",m.fav?"fa fa-star text-warning":"fa fa-star-o")}$("#btn-setting").click(function(){g.showModal(m)});var n=$("#btn-favorite");t(),n.click(function(){e.doIfLoggedIn(function(){$.post(basePath+"/contest/"+m.id+"/favorite/"+(m.fav?"remove":"add")),m.fav=!m.fav,t()})}),$("#btn-clone").click(function(){e.doIfLoggedIn(function(){$.get(basePath+"/contest/clone/"+m.id,v.show)})}),$("#btn-update").click(function(){e.doIfLoggedIn(function(){$.get(basePath+"/contest/update/"+m.id,v.show)})}),$("#btn-delete").click(function(){e.doIfLoggedIn(function(){b.showModal({title:"Delete contest [ "+m.title+" ]",body:"Are you sure to delete this contest?<br>All submissions in the contest will be orphaned.<br><span style='color: red'>The operation can't be undone.</span>",callback:function(){$.post(basePath+"/contest/delete/"+m.id,function(t){t.error?b.showError(t.error):window.location.reload()})}})})}),m.started||$("#btn-export-submissions").hide(),$("#img_go_top").click(function(){return $("html, body").animate({scrollTop:$("#time-info").offset().top,queue:!1},500),!1})}function s(){$("#time-info").find(".timestamp").each(function(){$(this).text(new Date(parseInt($(this).text())).format("yyyy-MM-dd hh:mm")+" "+e.getTimezone())}),m.started?m.ended?($("#info-elapsed, #info-remaining").html(""),$("#info-running").html("Ended").css("color","green")):($("#info-running").html("Running").css("color","red"),setIntervalAndExecute(function(){$("#span-elapsed").html(e.formatTimeSpan(-d())),$("#span-remaining").html(e.formatTimeSpan(u()))},1e3)):($("#info-elapsed, #info-remaining").html(""),3!==m.authStatus&&$("#contest-time-slider-container").html(""),setIntervalAndExecute(function(){$("#info-running").html("Start Countdown: "+e.formatTimeSpan(d())).css("color","blue")},1e3),d()<2147483647&&setTimeout(function(){window.location.reload()},d()))}function i(){function t(){$("#info-running").html("Running").css("color","red").css("cursor","auto"),clearInterval(n),n=setIntervalAndExecute(function(){a.setValue(p())},1e3),clearInterval(f),f=setIntervalAndExecute(function(){$(window).trigger("updateRank")},y)}if(m.started||3===m.authStatus){var n,a=$("#contest-time").slider({max:m.end-m.begin,step:1e3,formatter:function(t){return e.formatTimeSpan(t)},rangeHighlights:[{start:0,end:m.end-m.begin}]}).data("slider");if(m.selectMoment=function(){return a.getValue()},m.ended||!m.started&&3===m.authStatus)a.setValue(m.end-m.begin),a.on("slideStop",function(t){$(window).trigger("updateRank")}),setTimeout(function(){$(window).trigger("updateRank")},300);else if(m.started){setIntervalAndExecute(function(){a.setAttribute("rangeHighlights",[{start:0,end:p()}])},1e3),setTimeout(t,300),$("#info-running").click(t);var o;a.on("slideStop",function(e){var n=p();e>n?(a.setValue(n),t()):(clearInterval(f),$(window).trigger("updateRank"))}).on("slideStart",function(e){$("#info-running").html("<small>Rank updating is paused.<br>Browse history rank with the above slider, or click here to resume rank updating.</small>").css("color","gray").css("cursor","pointer"),clearInterval(n),clearTimeout(o),o=setTimeout(t,3e4)})}}}function r(){$("#contest-login-form").submit(function(){var t=$("#contest-login-password").val();return $.post(basePath+"/contest/login/"+m.id,{password:t},function(t){t.error?$("#contest-login-alert").html(t.error).show():window.location.reload()}),!1}),$("#btn-contest-login").click(function(){$("#contest-login-form").submit()})}function l(){m.setting=e.storage.get("contest.view."+m.id,{hideContests:[],showTeam:"top",showPractice:"0",showTimestamp:"1"}),m.saveSetting=function(){e.storage.set("contest.view."+m.id,m.setting),$(window).trigger("updateRank")}}function c(){$(document).on("click",".view-solution",function(){var t=$(this).data("run-id");h.showModal(t)})}function d(){return m.begin-e.getServerTime()}function u(){return m.end-e.getServerTime()}function p(){return-d()}var m,f,v=n(7),h=n(3),b=n(5),g=n(16),y=1e4;t.exports=function(t){m=t,a(),s(),i(),o(),r(),l(),c()}}).call(e,n(1))},function(t,e,n){(function(e){function a(t){var n=$(o),a=parseInt(e.getUserId()),s=t.leaderName==e.getUsername()?2:t.managerIds.indexOf(a)>=0?1:0;return n.addClass(t.isPublic?"public":"private"),n.find(".logo a").attr("href",basePath+"/group/"+t.shortName),n.find(".logo img").attr("src",t.logoUrl),n.find(".members").append(t.members+(t.hasApplicants?" <span class='tag tag-danger new-applicants'>New Apply</span>":"")),n.find(".leader").append("<a href='"+basePath+"/user/"+t.leaderName+"'>"+t.leaderName+"</a>"),n.find(".name").html("<a href='"+basePath+"/group/"+t.shortName+"'>"+t.name+"</a>"+[""," <span class='tag tag-info'>Manager</span>"," <span class='tag tag-warning'>Leader</span>"][s]),n.find(".brief").text(t.brief),n.find(".contests").html("<img src='"+imagesRoot+"/remote_oj/icon-icpc-small.gif' height='20'> <a href='"+basePath+"/contest#category=group&running=0&openness=-1&title=&owner="+encodeURI(t.name)+"' target='_blank'><span style='color: blue'>"+t.sContests+"</span> / <span style='color: red'>"+t.rContests+"</span> / <span style='color: green'>"+t.eContests+"</span></a>"),n}var o=n(58);t.exports={render:a}}).call(e,n(1))},function(t,e,n){n(11),void 0!==moduleName&&n(67)(moduleName)},function(t,e,n){(function(e){function a(){$("[name=remark]").val(i.remarks),e.initBootstrapRadio($("#description-format"),i.format,function(t){i.format=t});var t=$("div.section-template"),n=$("#edit-description-form");$.each(i.sections,function(e,a){var s=o(t,e<i.sections.length/2?"bottom":"top");s.find("[name=section-title]").val(a.title),s.find("[name=section-value]").val(a.value.content),s.show().appendTo(n)}),$("#btn-add-section").click(function(){var e=o(t,"top");e.show().appendTo(n)}),$("#btn-confirm").click(function(){i.remarks=$("[name=remark]").val(),i.sections=[],$("div.section:visible").each(function(t,e){i.sections.push({title:$(e).find("[name=section-title]").val(),value:{format:i.format,content:$(e).find("[name=section-value]").val()}})}),$.ajax({type:"POST",url:basePath+"/problem/editDescription",dataType:"json",contentType:"application/json",data:JSON.stringify(i)}).done(function(t){t.error?$("#edit-alert").html(t.error).show():window.location.reload()})})}function o(t,n){var a=t.clone().removeClass("section-template");return a.find("[name=section-value]").popover({content:function(){var t=$(this).val();return $("<div style='max-height: 300px; overflow-y: auto;' />").html(e.renderHyperText({format:i.format,content:t}))},html:!0,placement:n,trigger:"focus"}),a.find("a.remove").click(function(){a.remove()}),a.find("a.move-up").click(function(){var t=a.prev("div.section:visible");t.length&&a.after(t)}),a.find("a.move-down").click(function(){var t=a.next("div.section:visible");t.length&&a.before(t)}),a}var s,i,r=n(60);t.exports={show:function(t){s=$(r),s.appendTo(document.body),s.on("show.bs.modal",function(){i=t,a()}).on("hidden.bs.modal",function(){$(this).remove()}).modal("show")}}}).call(e,n(1))},function(t,e,n){(function(e){function a(){$("#update-captcha-img").attr("src",basePath+"/util/captcha?"+e.getServerTime())}function o(t){$("#update-username").val(t.username),$("#update-nickname").val(t.nickname),$("#update-school").val(t.school),$("#update-qq").val(t.qq),$("#update-email").val(t.email),$("#update-introduction").val(t.intro),a(),$("#update-captcha-img").click(a);var e=$("#btn-update-profile");e.click(function(){$.ajax({type:"POST",url:basePath+"/user/update",dataType:"json",contentType:"application/json",data:JSON.stringify({password:$("#update-orig-password").val(),newpassword:$("#update-password").val(),repassword:$("#update-repeat-password").val(),nickname:$("#update-nickname").val(),school:$("#update-school").val(),qq:$("#update-qq").val(),email:$("#update-email").val(),intro:$("#update-introduction").val(),captcha:$("#update-captcha").val()})}).done(function(n){n.error?(e.prop("disabled",!1),$("#update-alert").text(n.error).show()):window.location.href=basePath+"/user/"+t.username}).fail(function(t,n,a){e.prop("disabled",!1),$("#update-alert").text(n+" - "+a).show()})})}var s,i=n(62);t.exports={show:function(t){s=$(i),s.appendTo(document.body),s.on("show.bs.modal",function(){o(t)}).on("hidden.bs.modal",function(){$(this).remove()}).modal("show")}}}).call(e,n(1))},,function(t,e,n){(function(t){function e(){var e=JSON.parse($("[name=dataJson]").val());o=new i({element:$("#article-content")[0],toolbar:["bold","italic","heading","strikethrough","|","quote","code","unordered-list","ordered-list","clean-block","|","link","image","table","horizontal-rule"]}),o.value(e.content),$("#article-title").val(e.title),$("#article-content").blur(a),t.initBootstrapRadio($(".article-openness"),e.openness||2,function(t){e.openness=t}),setIntervalAndExecute(a,3e3),$("#btn-confirm").click(function(){var t=basePath+(e.id?"/article/update/"+e.id:"/article/create");$.post(t,{title:$("#article-title").val(),content:o.value(),openness:e.openness},function(t){t.error?$("#edit-article-alert").html(t.error).show():location.href=basePath+"/article/"+t.id})}),$("#btn-cancel").click(function(){history.back()}),$(document).on("click",".view-solution",function(){var t=$(this).data("run-id");s.showModal(t)})}function a(){var e=t.renderHyperText({content:o.value(),format:"MD"},!0).replace(/\[\s*problem\s*:\s*(\w+)\W+(\w[-\w]*?)\s*\]/g,"<span class='tag tag-default'>$1 $2</span>").replace(/\[\s*submission\s*:\s*(\d+)\s*\]/g,"<a href='#' class='view-solution' data-run-id='$1'>$1</a>");t.renderHyperText({content:e,format:"HTML"},!0,$("#article-content-preview"))}var o,s=n(3),i=n(64);$(function(){e()})}).call(e,n(1))},function(t,e,n){(function(t){var e=n(5),a=n(4),o=n(3),s=n(10);$(function(){function n(){for(var t,e=c(),n=/(\w+)=([^$&]*)/g;t=n.exec(location.hash);)e[t[1]]=t[2];if(d(e),$("[name='category']").val(e.category).siblings("a").removeClass("active").filter("[data-category='"+e.category+"']").addClass("active"),"adhoc"===e.category){var o=$("#adhoc-discuss-container").empty().show();a.show("vjudge",o),$("#threads-container").hide()}else $("#adhoc-discuss-container").hide(),$("#threads-container").show(),p&&p.draw()}function i(){return $("#listComment").DataTable({processing:!0,serverSide:!0,lengthMenu:[10,20,25,50,100],pageLength:20,dom:'<"H"pr<"#buttonContainer"><"#buttonContainer_r">>t<"F">',autoWidth:!1,stateSave:!0,language:{info:"_START_ to _END_ of _TOTAL_ threads",
infoEmpty:"No threads",infoFiltered:" (filtering from _MAX_ total threads)",thousands:""},ordering:!1,order:[[2,"desc"]],pagingType:"simple_numbers",ajax:{url:basePath+"/comment/data",type:"POST",data:function(t){$.extend(t,c())},dataSrc:function(t){for(var e=[],n=0,a=t.data.length;n<a;n++){var o=t.data[n];e.push(r(o))}return e}},columns:[{className:"title"},{className:"comments"},{className:"last-by"}],columnDefs:[{targets:"_all",orderable:!1}],createdRow:function(t,e,n){$(t).find("a[path]").click(function(){var t=$(this).attr("path"),e=$(this).html();u(t,e)})},preDrawCallback:function(e){t.sendGaPageview()},drawCallback:function(e){t.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")}),$('[data-toggle="tooltip"]').tooltip()},initComplete:function(t,e){$("#filter").show().appendTo("#buttonContainer").click(function(){l()||n()}),$("#reset").show().appendTo("#buttonContainer").click(function(){$("[name=category]").val("article"),$("[name=title]").val(""),l()||n()}),$("#btn-post").show().appendTo("#buttonContainer_r")}})}function r(e){return[$("<a href='javascript:void(0)' path='"+e.path+"'></a>").text(e.title)[0].outerHTML+"<br>"+$("<pre/>").text(e.preview)[0].outerHTML,e.commentNumber,(e.anonymous?e.lastBy:"<a href='"+basePath+"/user/"+e.lastBy+"'>"+e.lastBy+"</a>")+"<br><span class='date' title='"+t.formatDate(e.lastWhen)+"'>"+t.getRelativeString(e.lastWhen)+"</span>"]}function l(){var t=$("[name='category']").val(),e=$("[name='title']").val(),n=location.hash;return location.hash="#category="+t+"&title="+encodeURI(e),n!==location.hash}function c(){var e={category:"article",title:""};try{var n=$.extend(e,t.storage.get("comment.list.queryParam",{}));return n.title=decodeURI(n.title),n}catch(a){return console.error(a),e}}function d(e){t.storage.set("comment.list.queryParam",e)}function u(t,n){t.indexOf("source")>=0?o.showModal(parseInt(t.split("/")[1])):t.indexOf("article")>=0?s.showModal(parseInt(t.split("/")[1])):e.showModal({title:"<a href='"+basePath+"/comment/link?path="+t+"' target='_blank'>"+n+"</a>",body:"",large:!0,onShow:function(){var e=$("#confirm-body");e.css("background-color","#e9e9e9"),a.show(t,e),$(this).find(".modal-footer").remove()}})}n();var p=i();window.addEventListener("hashchange",n),$(".search_text").click(function(t){t.stopPropagation()}).keypress(function(t){t.stopPropagation()}).change(function(){l()}),$(".thread-category").find("> a").click(function(){$("[name=category]").val($(this).data("category")),l()})})}).call(e,n(1))},function(t,e,n){var a=n(4);$(function(){var t=$("#discuss_new");a.show("vjudge",t)})},function(t,e,n){var a=n(4);$(function(){var t=$("#error_discuss");a.show("error",t)})},function(t,e){$(function(){})},function(t,e,n){(function(t){var e=n(7);$(function(){function n(){for(var t,e=s(),n=/(\w+)=([^$&]*)/g;t=n.exec(location.hash);)e[t[1]]=t[2];i(e),$("[name='category']").val(e.category).siblings().find("a").removeClass("active").filter("[data-category='"+e.category+"']").addClass("active"),$("[name='running']").val(e.running).siblings("a").removeClass("active").filter("[data-running='"+e.running+"']").addClass("active"),$("[name='title']").val(decodeURI(e.title)),$("[name='owner']").val(decodeURI(e.owner)),r&&r.draw()}function a(){return $("#listContest").DataTable({processing:!0,serverSide:!0,lengthMenu:[10,20,25,50,100],pageLength:20,dom:'<"H"pr<"#buttonContainer"><"#buttonContainer_r">>t<"F"l>',autoWidth:!1,stateSave:!0,language:{info:"_START_ to _END_ of _TOTAL_ contests",infoEmpty:"No contests",infoFiltered:" (filtering from _MAX_ total contests)",thousands:""},order:[[0,"desc"]],pagingType:"simple_numbers",ajax:{url:basePath+"/contest/data",type:"POST",data:function(t){$.extend(t,s())},dataSrc:function(t){for(var e=[],n=0,a=t.data.length;n<a;n++){var o=t.data[n];e.push({contestId:o[0],contestTitle:o[1],contestBeginTime:o[2],contestEndTime:o[3],contestOpenness:o[4],managerName:o[5],managerId:o[6],groupName:o[7],groupShortName:o[8],type:o[9],isFav:o[10],isGroupManager:o[11],isContestManager:o[12],contestants:o[13]})}return e}},columns:[{className:"contest_id",orderSequence:["desc","asc"],data:function(t){return t.contestId}},{className:"fav",orderable:!1,data:function(t){return["","<i class='fa fa-star-o contest-fav' data-toggle='tooltip' add-fav='true' data-cid='"+t.contestId+"' title='Add to favorites'></i> ","<i class='fa fa-star text-warning contest-fav' data-toggle='tooltip' add-fav='false' data-cid='"+t.contestId+"' title='Remove from favorites'></i> "][t.isFav]}},{className:"title",data:function(t){var e=["<span data-toggle='tooltip' title='Classical Contest'> </span>","<img src='"+imagesRoot+"/group.png' data-toggle='tooltip' title='Group Contest'>","<img src='"+imagesRoot+"/replay.png' data-toggle='tooltip' title='Replay'>"][t.type],n=0===t.type?["","Protected - any one can see, but only users knowing contest password can submit","Private - only users knowing contest password can see and submit"][t.contestOpenness]:["","Protected - any one can see, but only group members can submit","Private - only group members can see and submit"][t.contestOpenness],a=["","<i class='fa fa-lock fa-lg text-warning' data-toggle='tooltip' title='"+n+"'></i> ","<i class='fa fa-lock fa-lg text-danger' data-toggle='tooltip' title='"+n+"'></i> "][t.contestOpenness];return"<div class='title'>"+a+" "+e+" <a cid='"+t.contestId+"' class='contest_entry' href='"+basePath+"/contest/"+t.contestId+"'>"+t.contestTitle+"</a></div>"}},{className:"contestants",orderSequence:["desc","asc"],data:function(t){return t.contestants>0?" <i class='fa fa-user'></i> x"+t.contestants:""}},{className:"date",orderSequence:["desc","asc"],data:function(e){var n,a=t.getServerTime();return n=a<e.contestBeginTime?"Scheduled":a<e.contestEndTime?"Running":"Ended","<div class='localizedTime "+n+"' data-toggle='tooltip' title='"+n+"'data-time='"+e.contestBeginTime+"' />"}},{className:"length",orderable:!1,data:function(t){var e=Math.round((t.contestEndTime-t.contestBeginTime)/1e3),n=e/86400,a=e/3600,o=e/60;return n>=1?Math.round(10*n)/10+" days":a>=1?Math.round(10*a)/10+" hours":e>0?Math.round(10*o)/10+" minutes":"-"}},{className:"owner",orderable:!1,data:function(t){return"<div>"+["<a href='"+basePath+"/user/"+t.managerName+"'>"+t.managerName+"</a>","<a href='"+basePath+"/group/"+t.groupShortName+"'><img src='"+imagesRoot+"/group.png'> "+t.groupName+"</a>","<a href='"+basePath+"/user/"+t.managerName+"'>"+t.managerName+"</a>"][t.type]+"</div>"}}],createdRow:function(t,e,n){},preDrawCallback:function(e){t.sendGaPageview()},drawCallback:function(e){t.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")}),$('[data-toggle="tooltip"]').tooltip()},initComplete:function(t,e){$("#filter").show().appendTo("#buttonContainer").click(function(){o()||n()}),$("#reset").show().appendTo("#buttonContainer").click(function(){$("[name=running]").val("0"),$("[name=title]").val(""),$("[name=owner]").val(""),o()||n()}),$("#btn-statistic").show().appendTo("#buttonContainer_r"),$("#btn-create").show().appendTo("#buttonContainer_r"),r.column(2).visible(!0)}})}function o(){var t=$("[name='category']").val(),e=$("[name='running']").val(),n=$("[name='title']").val(),a=$("[name='owner']").val(),o=location.hash;return location.hash="#category="+t+"&running="+e+"&title="+encodeURI(n)+"&owner="+encodeURI(a),o!==location.hash}function s(){var e={category:"mine",running:"0",title:"",owner:""};try{var n=$.extend(e,t.storage.get("contest.list.queryParam",{}));return n.title=decodeURI(n.title),n.owner=decodeURI(n.owner),n}catch(a){return console.error(a),e}}function i(e){t.storage.set("contest.list.queryParam",e)}n();var r=a();window.addEventListener("hashchange",n),$(".search_text").click(function(t){t.stopPropagation()}).keypress(function(t){t.stopPropagation()}).change(function(){o()}),$(".contest-category").find("> a").click(function(){$("[name=category]").val($(this).data("category")),o()}),$(".contest-running").find("> a").click(function(){var t=$(this).data("running");$("[name=running]").val(t),0==t||(1==t?r.order([4,"asc"]):r.order([4,"desc"])),o()}),$(document).on("click","i.contest-fav",function(){var t=$(this),e="true"===t.attr("add-fav"),n=t.data("cid");$.post(basePath+"/contest/"+n+"/favorite/"+(e?"add":"remove")),$(".tooltip-inner").remove();var a;a=e?$("<i class='fa fa-star text-warning contest-fav' data-toggle='tooltip' add-fav='false' data-cid='"+n+"' title='Remove from favorites'></i>"):$("<i class='fa fa-star-o contest-fav' data-toggle='tooltip' add-fav='true' data-cid='"+n+"' title='Add to favorites'></i>"),a.insertAfter(t),a.tooltip(),t.remove()}),$(document).on("click","i.update",function(){var n=$(this),a=n.data("cid");t.doIfLoggedIn(function(){$.get(basePath+"/contest/update/"+a,e.show)})}),$(document).on("click","i.clone",function(){var n=$(this),a=n.data("cid");t.doIfLoggedIn(function(){$.get(basePath+"/contest/clone/"+a,e.show)})}),$("#btn-create").click(function(){t.doIfLoggedIn(function(){$.get(basePath+"/contest/create",e.show)})}),void 0==t.getUserId()&&$(".my-contest-item").hide()})}).call(e,n(1))},function(t,e){$(function(){$('[data-toggle="tooltip"]').tooltip();var t=$("textarea").val();$("textarea").blur(function(){var e=$(this).val();t!=e&&$("form").submit()})})},function(t,e,n){(function(t){function e(){function e(){var e=location.hash,o=e.substring(1).split("/"),s=o[0];s in d||(s="overview"),n[s]=e,$("#contest-tabs").find("[section="+s+"]").tab("show"),a.section=s,d[s].dispatch(o.slice(1)),t.sendGaPageview()}var n={};e(),window.addEventListener("hashchange",e),$('a[data-toggle="tab"]').on("show.bs.tab",function(t){var e=$(t.target).attr("section");location.href=n[e]||t.target.href}).on("hide.bs.tab",function(t){var e=$(t.target).attr("section"),n=d[e].leave;"function"==typeof n&&n(),$("html, body").animate({scrollTop:$("#time-info").offset().top,queue:!1},50)})}var a,o=n(18),s=n(13),i=n(14),r=n(17),l=n(15),c=n(12),d={};$(function(){a=JSON.parse($("[name=dataJson]").val()),new o(a),a.authStatus>0&&(d.overview=new s(a),d.discuss=new c(a),(a.started||3==a.authStatus)&&(d.problem=new i(a),d.rank=new l(a)),a.started&&2!=a.type&&(d.status=new r(a)),e())})}).call(e,n(1))},function(t,e,n){(function(t){function e(){r.invitationGroups.length>0&&($.each(r.invitationGroups,function(t,e){$("#my-invitations-panel").append(l.render(e))}),$("#my-invitations-li").show())}function a(){r.myGroups.length>0?$.each(r.myGroups,function(t,e){$("#my-groups-panel").append(l.render(e))}):$("#my-groups-panel").append("<div class='alert alert-warning'>You are not in any group. Join or create one now!</div>")}function o(){$.each(r.newGroupCards,function(t,e){$("#new-groups-panel").append(l.render(e))})}function s(){$("#btn-search-group").click(function(){var t=$("#search-group-name").val();$.post(basePath+"/group/search",{name:t},function(t){var e=$("#search-groups-panel");e.empty(),t.info&&e.append("<div class='alert alert-warning'>"+t.info+"</div>"),$.each(t.cards||[],function(t,n){e.append(l.render(n))})})})}function i(){$("#btn-create-group").click(function(){t.doIfLoggedIn(function(){c.show({isCreate:!0})})})}var r,l=n(19),c=n(8);$(function(){r=JSON.parse($("[name=dataJson]").val()),e(),a(),o(),s(),i()})}).call(e,n(1))},function(t,e,n){(function(t){function e(){2===f.role&&$("#group-logo").click(function(){u.showModal({title:"Change group logo",body:"<div id='logo-uploader'></div>"}),n.e(0,function(t){var e=[t(51)];(function(t){new t.FineUploader({element:document.getElementById("logo-uploader"),request:{endpoint:basePath+"/group/changeLogo/"+d.shortName,inputName:"logo"},validation:{allowedExtensions:["jpg","jpeg","png","gif","bmp"],sizeLimit:31457280},scaling:{sendOriginal:!1,sizes:[{name:"small",maxSize:250}]},callbacks:{onUpload:function(t,e){return!0},onManualRetry:function(t,e){return!0},onComplete:function(t,e,n){$("#group-logo").attr("src",n.logoUrl)}}})}).apply(null,e)})})}function a(){t.renderHyperText(d.intro,!1,$("#group-intro-card"))}function o(){$(".edit-nickname").click(function(){u.showModal({title:"Change you name",body:"Your new name in group: <input name='nickname' value='"+f.nickName+"'>",callback:function(){var t=$("[name=nickname]").val();$.post(basePath+"/group/changeNickname/",{shortName:d.shortName,nickname:t},function(t){t.error?u.showError(t.error):window.location.reload()})}})})}function s(){var e=$("#group-oprts div.btn-group");null==f?1==d.joinPolicy?e.append("<a href='javascript:void(0)' class='btn btn-secondary join'>Apply join</a>"):2==d.joinPolicy&&e.append("<a href='javascript:void(0)' class='btn btn-secondary join'>Join now</a>"):0==f.status&&0==f.joinType?(e.append("<a href='javascript:void(0)' class='btn btn-success accept-invitation'>Accept Invitation</a>"),e.append("<a href='javascript:void(0)' class='btn btn-danger reject-invitation'>Reject</a>")):1==f.status&&(e.append("<a href='javascript:void(0)' class='btn btn-danger kick-out'>Leave</a>"),f.role>0&&e.append("<a href='javascript:void(0)' class='btn btn-secondary invite'>Invite</a>")),null!=f&&2==f.role&&e.append("<a href='javascript:void(0)' class='btn btn-secondary update-group'>Update</a>"),null!=f&&f.role>0&&e.append("<a href='javascript:void(0)' class='btn btn-secondary create-group-contest'>Arrange Contest</a>"),$("a.join").click(function(){t.doIfLoggedIn(function(){$.post(basePath+"/group/join/"+d.shortName,{r:d.secretId},function(t){t.error?u.showModal({title:"Error",body:t.error}):window.location.reload()})})}),$("a.accept-invitation").click(function(){r(f.id,f.nickName,"accept-invitation",!0)}),$("a.reject-invitation").click(function(){r(f.id,f.nickName,"reject-invitation",!0)}),$("a.kick-out").click(function(){r(f.id,f.nickName,"kick-out",!0)}),$("a.invite").click(function(){var t="<textarea    id='invitees'   placeholder='Input userNames of invitees. Separate by white spaces'    class='form-control'    rows='5'   width='100%'></textarea>";0!=d.joinPolicy&&(t+="<p>You can also share <a href='"+basePath+"/group/"+d.shortName+"?r="+d.secretId+"'>this link</a> to others for join application.</p>"),u.showModal({title:"Invite",body:t,callback:function(){var t=$("#invitees").val();$.post(basePath+"/group/invite/"+d.shortName,{invitees:t},function(t){t.error?u.showError(t.error):(d.memberBriefs=t.memberBriefs,l(),i(),u.hide())})}})}),$("a.update-group").click(function(){p.show({isCreate:!1,id:d.id,name:d.name,shortName:d.shortName,pblc:d.pblc,joinPolicy:d.joinPolicy,brief:d.brief,intro:d.intro})}),$("a.create-group-contest").click(function(){$.get(basePath+"/contest/create",{type:1,groupId:d.id},m.show)}),$(document).on("click","div.popover-content button",function(){var t=$(this).parent().attr("member-id"),e=$(this).parent().attr("member-name"),n=$(this).attr("class");r(t,e,n)})}function i(){f=null,$.each(d.memberBriefs,function(e,n){n.username==t.getUsername()&&(f=n)})}function r(t,e,n,a){u.showModal({title:"Confirm",body:"Are you sure to perform operation ["+n+"] on ["+e+"] ?",callback:function(){$.post(basePath+"/group/manageMember",{memberId:t,operation:n},function(t){t.error?u.showModal({title:"Error",body:t.error}):a?window.location.reload():(d.myRole=t.myRole,d.memberBriefs=t.memberBriefs,l(),i())}),u.hide()}})}function l(){function e(t){return 0==t.status?0==t.joinType?-1:3:t.role}function n(t){var e="";if(null==f)return e;var n=f.role;return 2==n&&1==t.role&&1==t.status&&(e+="<button class='remove-manager'>Remove manager</button>"),2==n&&0==t.role&&1==t.status&&(e+="<button class='set-manager'>Set manager</button>"),2==n&&t.role<2&&1==t.status&&(e+="<button class='transfer-group'>Transfer Group</button>"),n>t.role&&1==t.status&&(e+="<button class='kick-out'>Kick out</button>"),n>0&&0==t.joinType&&0==t.status&&(e+="<button class='cancel-invitation'>Cancel Invitation</button>"),n>0&&1==t.joinType&&0==t.status&&(e+="<button class='approve-apply'>Approve</button>",e+="<button class='reject-apply'>Reject</button>"),e.length&&(e="<div member-id='"+t.id+"' member-name='"+t.nickName+"'>"+e+"</div>"),e}var a=d.memberBriefs;a.sort(function(t,n){return e(n)-e(t)||n.lastSeenTime-t.lastSeenTime});var o=$("#group-member-table").find("tbody");o.empty(),$("div.popover").remove(),$.each(a,function(e,a){var s=0==a.status?0==a.joinType?"<span class='tag tag-danger'>Inviting</span>":"<span class='tag tag-danger'>New applicant</span>":2==a.role?"<span class='tag tag-warning'>Leader</span>":1==a.role?"<span class='tag tag-info'>Manager</span>":"<span class='tag tag-default'>Member</span>",i=$("<tr><td>"+s+"</td><td><a href='javascript:void(0)' class='nickname'>"+a.nickName+"</a></td><td><a href='"+basePath+"/user/"+a.username+"' target='_blank'>"+a.username+"</a></td><td>"+(a.joinTime>0?new Date(a.joinTime).format("yyyy-MM-dd"):"")+"</td><td>"+t.getRelativeString(a.lastSeenTime)+"</td></tr>");o.append(i),i.find("a.nickname").popover({content:function(){return n(a)},html:!0,placement:"top",trigger:"click"})})}function c(){if(0==d.contests.length)return void $("#group-contests-card").hide();var e=[],n=$("#group-contest-table").find("tbody");$.each(d.contests,function(a,o){var s=o[0],i=o[1],r=o[2],l=o[3],c=o[4],d=o[5],u=t.getServerTime(),p=u<l?"Scheduled":u<c?"Running":"Ended",m=["","<i class='fa fa-lock fa-lg text-warning'></i> ","<i class='fa fa-lock fa-lg text-danger'></i> "][d],f=$("<tr><td class='title'><div>"+m+" <a href='"+basePath+"/contest/"+s+"' target='_blank'>"+i+"</a></div></td><td>"+(r>0?"<i class='fa fa-user'></i> x"+r:"")+"</td><td class='date'><div class='localizedTime "+p+"' data-time='"+l+"' /></td><td>"+t.formatTimeSpan(c-l)+"</td></tr>");n.append(f),e.push(s)}),t.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")}),$(".group-contest-stat").attr("href",basePath+"/contest/statistic?cids="+e.join(" ")),e.length>15&&$("#group-contest-table").dataTable({pageLength:15,dom:'<"H"prf>t<"F">',autoWidth:!1,stateSave:!0,ordering:!1,pagingType:"simple_numbers",columns:[{orderable:!1},{orderable:!1},{orderable:!1},{orderable:!1}]})}var d,u=n(5),p=n(8),m=n(7),f=null;$(function(){d=JSON.parse($("[name=dataJson]").val()),i(),l(),c(),s(),a(),o(),e()})}).call(e,n(1))},function(t,e,n){(function(t){function e(){var e=$(".contacts-container li.contact");e.click(function(){s=$(this).data("contact-id"),e.removeClass("active"),$(this).addClass("active"),o()}),e.length&&e.eq(0).click(),$(".msg-last-time").each(function(){$(this).text(t.getRelativeString(parseInt($(this).text())))})}function n(){$(document).on("click",".show-older-conversation",function(){i+=20,o(i)}),$(document).on("click",".show-latest-conversation",function(){i=0,o(0)})}function a(){var e=$("textarea.reply");e.popover({content:function(){var e=$(this).val();return $("<div style='max-height: 300px; overflow-y: auto;' />").html(t.renderHyperText({format:"MD",content:e}))},html:!0,placement:"top",trigger:"focus"}),$("td.send").click(function(){var t=e.val();e.val(""),$.ajax({url:basePath+"/message/post",type:"POST",data:{contactId:s,content:t},success:function(n){n.error?($(".replay-alert").text(n.error).show(),e.val(t)):(o(),$(".replay-alert").hide())},error:function(n,a,o){$(".replay-alert").text(a).show(),e.val(t)}})})}function o(e){$.post(basePath+"/message/conversation/"+s,{start:e||0},function(e){var n=$("table.conversation").find("tbody");n.empty(),0==e.messages.length?n.append($("<tr>").append($("<td class='show-latest-conversation' colspan='3'>").html("Show latest ..."))):n.append($("<tr>").append($("<td class='show-older-conversation' colspan='3'>").html("Show older ..."))),$.each(e.messages,function(e,a){var o=$("<td class='content'>");t.renderHyperText({content:a.content,format:"MD"},!1,o);var s=$("<tr>").append($("<td class='author'>").html("<b><a href='"+basePath+"/user/"+a.author+"' target='_blank'>"+a.author+"</a></b>")).append(o).append($("<td class='time'>").html(t.formatDate(parseInt(a.time))));a.author!=t.getUsername()&&s.addClass("contact"),n.append(s)});var a=$(".conversation-container");a.scrollTop(a[0].scrollHeight)})}var s,i=0;$(function(){e(),n(),a()})}).call(e,n(1))},function(t,e,n){(function(t){$(function(){var e=$(".data-json-container").text();if(e){var n=JSON.parse(e),a=$("#description-container");a.empty(),$.each(n.sections,function(e,n){var o=$("<dd>"),s=t.renderHyperText(n.value,!1,o);s.length&&a.append("<dt>"+n.title+"</dt>").append(o)})}}),$(window).on("load",function(){var t=document.body.clientWidth;setTimeout(function(){$("img").each(function(){var e=this.width,n=this.height,a=Math.min(t/e*.9,1);this.width=a*e,this.height=a*n})},1e3)})}).call(e,n(1))},function(t,e,n){(function(t){var e=n(6);$(function(){function n(){for(var t,e=s(),n=/(\w+)=([^$&]*)/g;t=n.exec(location.hash);)e[t[1]]=t[2];i(e),$("[name='category']").val(e.category).siblings("a").removeClass("active").filter("[data-category='"+e.category+"']").addClass("active"),$("[name='OJId']").val(e.OJId),$("[name='probNum']").val(e.probNum),$("[name='title']").val(decodeURI(e.title)),$("[name='source']").val(decodeURI(e.source)),c&&c.draw()}function a(){return $("#listProblem").DataTable({processing:!0,serverSide:!0,lengthMenu:[10,20,25,50,100],pageLength:20,dom:'<"H"pr<"#buttonContainer">>t<"F"l>',autoWidth:!1,stateSave:!0,language:{info:"_START_ to _END_ of _TOTAL_ problems",infoEmpty:"No problems",infoFiltered:" (filtering from _MAX_ total problems)",thousands:""},order:[[5,"desc"]],pagingType:"simple_numbers",ajax:{url:basePath+"/problem/data",type:"POST",data:function(t){$.extend(t,s())},dataSrc:function(e){for(var n=[],a=0,o=e.data.length;a<o;a++){var s=e.data[a];n.push([s.solveInfo?"<a href='"+basePath+"/status#un="+t.getUsername()+"&OJId="+s.originOJ+"&probNum="+s.originProb+"&res=0' target='_blank'>"+["<span class='tag tag-warning' data-toggle='tooltip' data-html='true' title='Last attempted at:<br>"+new Date(s.solveInfo.d).format("yyyy-MM-dd hh:mm:ss")+"<br><br>Attempted "+s.solveInfo.f+" times'>Attempted</span>","<span class='tag tag-success' data-toggle='tooltip' data-html='true' title='Solved at:<br>"+t.formatDate(s.solveInfo.c)+"<br><br>Attempted "+s.solveInfo.e+" times'>Solved</span>"][s.solveInfo.b?1:0]+"</a>":"",["","<i class='fa fa-star-o prob-fav' data-toggle='tooltip' add-fav='true' data-pid='"+s.id+"' title='Add to favorites'></i>","<i class='fa fa-star text-warning prob-fav' data-toggle='tooltip' add-fav='false' data-pid='"+s.id+"' title='Remove from favorites'></i>"][s.isFav],s.originOJ,"<a href='"+basePath+"/problem/"+s.id+"/origin' target='_blank'>"+s.originProb+"</a>","<div><a href='"+basePath+"/problem/"+s.originOJ+"-"+s.originProb+"'>"+s.title+"</a>"+(0===s.status&&s.allowSubmit?"<i class='fa fa-upload submit' data-toggle='tooltip' data-oj='"+s.originOJ+"' data-prob-num='"+s.originProb+"' title='Submit'></i>":"")+"</div>",["<i class='fa fa-check text-success'></i>","<i class='fa fa-spinner fa-spin'></i>","<i class='fa fa-exclamation-triangle text-danger'></i>"][s.status]+" <div class='localizedTime' data-time='"+s.triggerTime+"'/>","<div>"+(s.source||"")+"</div>"])}return n}},columns:[{className:"solved",orderable:!1},{className:"fav",orderSequence:["desc","asc"]},{className:"oj",orderable:!1,searchable:!1},{className:"prob_num"},{className:"title"},{className:"date",orderSequence:["desc","asc"]},{className:"source hidden-md-down",orderable:!1}],createdRow:function(t,e,n){},preDrawCallback:function(e){$("#probNum").val().length>0&&$("#probNum").is(":focus")?($("#title").val(""),$("#source").val("")):($("#title").val().length>0||$("#source").val().length>0)&&$("#probNum").val(""),t.sendGaPageview()},drawCallback:function(e){t.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")}),$('[data-toggle="tooltip"]').tooltip()},initComplete:function(e,a){$("#filter").show().appendTo("#buttonContainer").click(function(){o()||n()}),$("#reset").show().appendTo("#buttonContainer").click(function(){$("[name='OJId']").val("All"),$("[name='probNum']").val(""),$("[name='title']").val(""),$("[name='source']").val(""),$("[name=category]").val("all"),o()||n()}),c.columns([0,1]).visible(void 0!==t.getUserId())}})}function o(){var t=$("[name='OJId']").val(),e=$("[name='probNum']").val().trim(),n=$("[name='title']").val(),a=$("[name='source']").val(),o=$("[name='category']").val(),s=location.hash;return location.hash="#OJId="+t+"&probNum="+e+"&title="+encodeURI(n)+"&source="+encodeURI(a)+"&category="+o,s!==location.hash}function s(){var e={OJId:"All",probNum:"",title:"",source:"",category:"all"};try{var n=$.extend(e,t.storage.get("problem.list.queryParam",{}));return n.title=decodeURI(n.title),n.source=decodeURI(n.source),n}catch(a){return console.error(a),e}}function i(e){t.storage.set("problem.list.queryParam",e)}for(var r=t.getOjsList(),l=0;l<r.length;l++)$("#OJId").append("<option value='"+r[l].name+"'>"+r[l].name+"</option>");n();var c=a();window.addEventListener("hashchange",n),$("#OJId").change(o),$(".search_text").click(function(t){t.stopPropagation()}).keypress(function(t){t.stopPropagation()}).change(function(){o()}),$("#prob-category").find("> a").click(function(){$("[name=category]").val($(this).data("category")),o()}),$(document).on("click","i.prob-fav",function(){var t=$(this),e="true"===t.attr("add-fav"),n=t.data("pid");$.post(basePath+"/problem/"+n+"/favorite/"+(e?"add":"remove")),$(".tooltip-inner").remove();var a;a=e?$("<i class='fa fa-star text-warning prob-fav' data-toggle='tooltip' add-fav='false' data-pid='"+n+"' title='Remove from favorites'></i>"):$("<i class='fa fa-star-o prob-fav' data-toggle='tooltip' add-fav='true' data-pid='"+n+"' title='Add to favorites'></i>"),a.insertAfter(t),a.tooltip(),t.remove()}),$(document).on("click","i.submit",function(){var n=$(this),a=n.data("oj"),o=n.data("prob-num");t.doIfLoggedIn(function(){e({inContest:!1,oj:a,probNum:o})})}),t.getUserId()>0?($("#left-panel").show(),$("#problem_list_container").css("width","100%")):$("#right-panel").attr("class","col-md-12")})}).call(e,n(1))},function(t,e,n){(function(t){var e=n(6),a=n(3),o=n(21),s=n(5),i=n(4);$(function(){var n=JSON.parse($("[name=dataJson]").val()),r=$("#btn-submit"),l=function(){r.click(function(){var n=$(this).data("oj"),a=$(this).data("prob-num");t.doIfLoggedIn(function(){e({inContest:!1,oj:n,probNum:a})})})};if(n.accepted===!0?r.addClass("btn-success").attr("title","Solved with "+n.attemptCount+" attempts, at "+t.formatDate(n.acTimestamp)).html("<i class='fa fa-check'></i> Submit"):n.accepted===!1?r.addClass("btn-warning").attr("title","Attempted "+n.attemptCountTotal+" times, until "+t.formatDate(n.lastAttemptTimestamp)).html("<i class='fa fa-upload'></i> Submit"):r.addClass("btn-primary").html("<i class='fa fa-upload'></i> Submit"),0==n.status)n.allowSubmit?l():(r.addClass("disabled"),$("#prob-alert").attr("class","alert alert-warning").html("This problem doesn't support submitting.").show());else if(1==n.status){r.addClass("disabled"),$("#prob-alert").attr("class","alert alert-warning").html("System is crawling this problem.").show();var c=function(){$.post(basePath+"/problem/getProblemStatus",{pid:n.problemId},function(t){1==t?setTimeout(c,2e3):($("#prob-alert").attr("class","alert alert-success").html("The problem is updated.<br><a href='javascript:window.location.reload()'>Click to refresh</a>.").show(),0==t&&(r.removeClass("disabled"),l()))})};c()}else 2==n.status&&(r.addClass("disabled"),$("#prob-alert").attr("class","alert alert-danger").html("Crawling failed.").show());$(document).on("click","a.order-by",function(){var e=$(this).data("by");t.sendGaPageview(),$.get(basePath+"/status/leaderBoard/"+n.problemId,{orderBy:e},function(n){s.hide(),s.showModal({title:["Fastest","Least memory","Shortest"][e],body:n,large:!0,fade:!1}),$("#leaderboard_table tr:has(a:contains("+t.getUsername()+"))").addClass("myself")})});var d=function(){var t=$("#btn-fav").find("i");n.isFav?t.attr("class","fa fa-star text-warning"):t.attr("class","fa fa-star-o")};d(),$("#btn-fav").click(function(){t.doIfLoggedIn(function(){n.isFav=!n.isFav,$.post(basePath+"/problem/"+n.problemId+"/favorite/"+(n.isFav?"add":"remove")),d()})}),$(".my-sol-time").each(function(){var e=$(this).text(),n=t.getRelativeString(e);$(this).text(n).attr("title",t.formatDate(parseInt(e)))}),$(document).on("click",".view-solution, .my-sol",function(){var t=$(this).data("run-id");a.showModal(t)}),$('[data-toggle="tooltip"]').tooltip();var u=$("#prob-descs").find("a.desc-link");u.click(function(){u.parent().removeClass("active"),$(this).parent().addClass("active");var t=$(this).data("id"),e=$(this).data("version"),n=$(this).data("author");$("#frame-description").attr("src",basePath+"/problem/description/"+t+"?"+e),location.hash="author="+n});var p=t.parseHashParams().author||"0";"0"!==p&&u.filter("[data-author="+p+"]").click(),$(".list-group-item").find("i.fa-edit").click(function(){var t=$(this).data("pid"),e=$(this).data("did");$.get(basePath+"/problem/editDescription",{problemId:t,from:e},o.show)}),$(".list-group-item").find("i.fa-remove").click(function(){var t=$(this).data("did");s.showModal({title:"Delete description",body:"Sure to delete this description ?",callback:function(){$.post(basePath+"/problem/deleteDescription",{id:t},function(t){t.error?s.showError(t.error):window.location.reload()})}})});var m=$("#frame-description:eq(0)"),f=function(){var t=m.contents().find("body").height();m.css("height",t+50+"px")};setInterval(f,1e3);var v=$("#problem_discuss");i.show("problem/"+n.problemId,v)})}).call(e,n(1))},function(t,e,n){(function(t){$(function(){t.highlightCode()})}).call(e,n(1))},function(t,e,n){$(function(){var t=/\/\d+\/(\w+)/.exec(location.href),e=t?t[1]:"";n(3).showBody(submissionId,e)})},function(t,e,n){(function(t){function e(){Highcharts.setOptions({global:{timezoneOffset:-480}});var e=new Date(t.getServerTime()).format("yyyy-MM-dd");n(e),$("[name=date]").val(e).on("blur",function(){n($(this).val())})}function n(t){$.getJSON("/stat/onlineCount?date="+t,function(e){var n=[[],[]];for(var a in e)e.hasOwnProperty(a)&&n[a.indexOf("login")>=0?1:0].push({name:a,data:e[a]});var o={chart:{zoomType:"x"},title:{text:"Online Sessions Count"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Time"}},yAxis:{title:{text:"Sessions"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%H:%M:%S}: {point.y}"},plotOptions:{},series:null};Highcharts.chart("container-all",$.extend(o,{title:{text:"All Sessions Count ("+t+")"},series:n[0]})),Highcharts.chart("container-login",$.extend(o,{title:{text:"Login Sessions Count ("+t+")"},series:n[1]}))})}$(function(){e()})}).call(e,n(1))},function(t,e){$(function(){jQuery.fn.dataTableExt.oSort["custom-time-asc"]=function(t,e){var n,a,o=t.split(/\D+/),s=e.split(/\D+/);if(o.length!=s.length)return o.length<s.length?-1:1;for(var i=0;i<o.length&&i<s.length;i++)if(n=parseInt(o[i],10),a=parseInt(s[i],10),n!=a)return n<a?-1:1;return 0},jQuery.fn.dataTableExt.oSort["custom-time-desc"]=function(t,e){var n,a,o=t.split(/\D+/),s=e.split(/\D+/);if(o.length!=s.length)return o.length>s.length?-1:1;for(var i=0;i<o.length&&i<s.length;i++)if(n=parseInt(o[i],10),a=parseInt(s[i],10),n!=a)return n>a?-1:1;return 0},$("#listOL").dataTable({aaSorting:[[6,"asc"]],bPaginate:!1,bLengthChange:!1,bFilter:!0,bSort:!0,bInfo:!1,bAutoWidth:!1,bStateSave:!0,aoColumns:[{sType:"html"},{sType:"html"},{sType:"html"},{sType:"html"},{sType:"custom-time"},{sType:"custom-time"},{sType:"custom-time"},{sType:"string"},{sType:"string"},{sType:"string"}]})})},function(t,e,n){(function(t){var e=n(3);$(function(){function n(){for(var e,n=s(),a=/(\w+)=([^$&]*)/g;e=a.exec(location.hash);)n[e[1]]=e[2];i(n),$("[name='un']").val(n.un),$("[name='OJId']").val(n.OJId),$("[name='probNum']").val(n.probNum),$("[name='res']").val(n.res),$("[name='language']").val(n.language),v=n.onlyFollowee,$("#status-owner").find("a").removeClass("active"),n.un===t.getUsername()?$("a[data-owner=mine]").addClass("active"):"true"==v?$("a[data-owner=followed]").addClass("active"):$("a[data-owner=all]").addClass("active"),
g&&g.draw()}function a(){return $("#listStatus").DataTable({processing:!0,serverSide:!0,pageLength:20,dom:'<"H"pr<"#buttonContainer">>t<"F">',autoWidth:!1,stateSave:!0,language:{info:"_START_ to _END_ of _TOTAL_ submissions",infoEmpty:"No submissions",infoFiltered:" (filtering from _MAX_ total submissions)",thousands:""},ordering:!1,order:[[0,"desc"]],pagingType:"simple_numbers",ajax:{url:basePath+"/status/data/",type:"POST",data:function(t){$.extend(t,s())},dataSrc:function(t){for(var e=[],n=0,a=t.data.length;n<a;n++){var o=t.data[n];e.push(c(o)),m[o.runId]=o}return e}},columns:[{className:f[0]},{className:f[1]},{className:f[2]},{className:f[3]},{className:f[4]},{className:f[5]},{className:f[6]},{className:f[7]},{className:f[8]},{className:f[9]}],columnDefs:[{targets:"_all",orderable:!1}],createdRow:function(t){d($(t))},preDrawCallback:function(e){t.sendGaPageview()},drawCallback:function(e){t.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")}),l(),u()},initComplete:function(t,e){$("#filter").show().button().appendTo("#buttonContainer").click(function(){o()||n()}),$("#reset").show().button().appendTo("#buttonContainer").click(function(){$("[name='un']").val(""),$("[name='OJId']").val("All"),$("[name='probNum']").val(""),$("[name='res']").val("0"),$("[name='language']").val(""),v=!1,o()||n()}),$("#rejudge-all").button().appendTo("#buttonContainer").click(function(){$("i.rejudge").click()})}})}function o(){var t=$("[name='un']").val().trim(),e=$("[name='OJId']").val(),n=$("[name='probNum']").val().trim(),a=$("[name='res']").val(),o=$("[name='language']").val(),s=location.hash;return location.hash="#un="+t+"&OJId="+e+"&probNum="+n+"&res="+a+"&language="+o+"&onlyFollowee="+v,s!=location.hash}function s(){var e={un:"",OJId:"All",probNum:"",res:"0",language:"",onlyFollowee:"false"};try{return $.extend(e,t.storage.get("problem.status.queryParam",{}))}catch(n){return console.error(n),e}}function i(e){t.storage.set("problem.status.queryParam",e)}function r(){clearInterval(p),p=setIntervalAndExecute(l,2e3)}function l(){if(!(t.sinceLastClick()>18e4)){var e=[];$("tr.processing").each(function(){e.push($(this).attr("id"))}),e.length&&$.post(basePath+"/status/dataById",{runIds:e},function(t){for(var e in t){var n=t[e];m[e]=n;var a=$("<tr/>"),o=c(n);$.each(o,function(t,e){a.append($("<td/>").html(e).addClass(f[t]))}),d(a);var s=$("#"+e);s.attr("class",a.attr("class")),s.find("td.status").replaceWith(a.find("td.status")),s.find("td.status-brief").replaceWith(a.find("td.status-brief")),s.find("td.runtime").replaceWith(a.find("td.runtime")),s.find("td.memory").replaceWith(a.find("td.memory"))}})}}function c(t){var e=t.status.length>15?t.status:"",n=t.processing?" <i class='fa fa-refresh fa-spin'></i>":"",a=t.processing||2!=t.statusType?"":" <i class='fa fa-refresh rejudge' data-run-id='"+t.runId+"' data-toggle='tooltip' title='Click to rejudge'></i>",o=(['<i data-run-id="'+t.runId+'" class="fa fa-check text-success view-solution" data-toggle="tooltip" title="'+t.status+'"></i>','<i data-run-id="'+t.runId+'" class="fa fa-exclamation-triangle text-danger view-solution" data-toggle="tooltip" title="'+t.status+'"></i>','<i data-run-id="'+t.runId+'" class="fa fa-refresh fa-spin view-solution" data-toggle="tooltip" title="'+t.status+'"></i>'][t.statusType],{CPP:"C++",C:"C",JAVA:"Java",PASCAL:"PASCAL",PYTHON:"Python",CSHARP:"C#",RUBY:"Ruby",OTHER:t.language}[t.languageCanonical]);return[t.runId,"<div><a href='"+basePath+"/user/"+t.userName+"' target='_blank'>"+t.userName+"</a><img src='"+imagesRoot+"/find_me.png' /></div>",t.oj,"<div><a href='"+basePath+"/problem/"+(t.oj+"-"+t.probNum)+"'>"+t.probNum+"</a><img src='"+imagesRoot+"/find_me.png' />"+(void 0!==t.contestId?" (<a href='"+basePath+"/contest/"+t.contestId+"#problem/"+(t.contestNum||"A")+"' target='_blank'>"+(t.contestNum||"?")+"</a>)":"")+"</div>","<div class='view-solution' data-toggle='tooltip' title='"+e+"' data-run-id='"+t.runId+"'>"+n+a+" "+t.status+"</div>",0==t.statusType?t.runtime:"",0==t.statusType&&t.memory>0?Math.round(t.memory/1e3*10)/10:"",t.sourceLength,"<div data-toggle='tooltip' data-html='true' title='"+t.language+"' class='view-solution "+["forbidden","self","shared"][t.access]+"' data-run-id='"+t.runId+"'>"+o+"</div>","<div class='localizedTime' data-time='"+t.time+"' />"]}function d(t){var e=t.find("td:eq(0)").text(),n=m[e];t.attr("id",e),t.addClass(["accepted","failed","pending"][n.statusType]),n.processing&&t.addClass("processing"),$(".tooltip-inner").remove(),t.find('[data-toggle="tooltip"]').tooltip()}function u(){t.getSup()>0&&$("tr.pending:not(.processing)").length>0?$("#rejudge-all").show():$("#rejudge-all").hide()}for(var p,m={},f=["run-id hidden-lg-down","username","oj","prob_num","status","runtime","memory","length hidden-lg-down","language","date"],v=!1,h=t.getOjsList(),b=0;b<h.length;b++)$("#OJId").append("<option value='"+h[b].name+"'>"+h[b].name+"</option>");n();var g=a();window.addEventListener("hashchange",n),$("#OJId").change(o),$("#res").change(o),$("#language").change(o),$(".search_text").click(function(t){t.stopPropagation()}).keypress(function(t){t.stopPropagation()}).change(function(){o()}),$(document).on("click","td.username img",function(){var t=$("#un"),e=$(this).parent().find("a").text();t.val()==e?t.val(""):t.val(e),o()}),$(document).on("click","td.prob_num img",function(){var t=$(this).parent().parent().prev().html(),e=$(this).parent().find("a:eq(0)").text();$("#OJId").val()===t&&$("#probNum").val()===e?($("#OJId").val("All"),$("#probNum").val("")):($("#OJId").val(t),$("#probNum").val(e)),o()}),$("#status-owner a").click(function(){var e=$(this).data("owner");$("[name='un']").val("mine"==e?t.getUsername():""),v="followed"==e,o()}),$(document).on("click","#listStatus i.rejudge",function(t){var e=$(this),n=e.data("run-id");$.post(basePath+"/problem/rejudge/"+n,function(){e.parents("tr").addClass("processing"),r()}),t.stopPropagation()}),$(document).on("click",".view-solution",function(){var t=$(this).data("run-id");e.showModal(t)}),t.getUserId()>0?($("#left-panel").show(),$("#status_list_container").css("width","100%")):$("#right-panel").attr("class","col-md-12"),r()})}).call(e,n(1))},function(t,e,n){(function(t){$(function(){function e(){for(var t,e=o(),n=/(\w+)=([^$&]*)/g;t=n.exec(location.hash);)e[t[1]]=t[2];s(e),$("[name='username']").val(e.username),$("[name='nickname']").val(decodeURI(e.nickname)),$("[name='school']").val(decodeURI(e.school)),$("[name='statRange']").val(e.statRange).siblings().removeClass("active").eq(e.statRange).addClass("active"),i&&i.draw()}function n(){return $("#listUser").DataTable({processing:!0,serverSide:!0,lengthMenu:[10,20,25,50,100],pageLength:20,dom:'<"H"pr<"#buttonContainer_l"><"#buttonContainer_r">>t<"F"l>',jQueryUI:!1,autoWidth:!1,stateSave:!0,language:{info:"_START_ to _END_ of _TOTAL_ users",infoEmpty:"No users",infoFiltered:" (filtering from _MAX_ total users)",thousands:""},pagingType:"simple_numbers",ajax:{url:basePath+"/user/data",type:"POST",data:function(t){$.extend(t,o())},dataSrc:function(e){for(var n=[],a=0,o=e.data.length;a<o;a++){var s=e.data[a];n.push([s[0],"<a href='"+basePath+"/user/"+s[1]+"' target='_blank'>"+s[1]+"</a>",t.escapeHtml(s[2]),"<div>"+t.escapeHtml(s[3])+"</div>","<a href='"+basePath+"/status/#un="+s[1]+"&res=1' target='_blank'>"+s[4]+"</a>","<a href='"+basePath+"/status/#un="+s[1]+"&res=0' target='_blank'>"+s[5]+"</a>"])}return n}},columns:[{className:"rank",orderable:!1,searchable:!1},{className:"username",orderable:!1,searchable:!1},{className:"nickname",orderable:!1,searchable:!1},{className:"school",orderable:!1,searchable:!1},{className:"solved",orderable:!1,searchable:!1},{className:"attempted",orderable:!1,searchable:!1}],createdRow:function(t,e,n){},preDrawCallback:function(e){t.sendGaPageview()},drawCallback:function(e){t.renderLocalizedTime(function(){return this.parent()},function(){return $("th.date")})},initComplete:function(t,n){$("#filter").button().appendTo("#buttonContainer_l").click(function(){a()||$(window).hashchange()}).show(),$("#reset").button().appendTo("#buttonContainer_l").click(function(){$("[name='username']").val(""),$("[name='nickname']").val(""),$("[name='school']").val(""),$("[name='statRange']").val("3"),a()||e()}).show(),$("#statRange").appendTo("#buttonContainer_r").show()}})}function a(){var t=$("[name='username']").val(),e=$("[name='nickname']").val(),n=$("[name='school']").val(),a=$("[name='statRange']").val(),o=location.hash;return location.hash="#username="+t+"&nickname="+encodeURI(e)+"&school="+encodeURI(n)+"&statRange="+a,o!==location.hash}function o(){var e={username:"",nickname:"",school:"",statRange:"3"};try{var n=$.extend(e,t.storage.get("user.list.queryParam",{}));return n.nickname=decodeURI(n.nickname),n.school=decodeURI(n.school),n}catch(a){return console.error(a),e}}function s(e){t.storage.set("user.list.queryParam",e)}e();var i=n();window.addEventListener("hashchange",e),t.initBootstrapRadio($("#statRange"),null,function(t){$("[name='statRange']").val(t),a()}),$(".search_text").click(function(t){t.stopPropagation()}).keypress(function(t){t.stopPropagation()}).change(function(){a()})})}).call(e,n(1))},function(t,e,n){(function(t){function e(){var t=$("i.user-follow"),e="true"==t.attr("follow");e?t.addClass("fa-star"):t.addClass("fa-star-o"),t.click(function(){e=!e;var n=e?"follow":"unfollow";$.post(basePath+"/user/"+n+"/"+s),t.toggleClass("fa-star"),t.toggleClass("fa-star-o")})}function n(){var e=$("div.intro"),n=e.html();t.renderHyperText({content:n,format:"MD"},!1,e),e.show()}function a(){$.post(basePath+"/user/solveDetail/"+s,function(t){o(t),$(".toggle-detail").show()})}function o(e){var n=$("#probRecords"),a=e.acRecords,o=e.failRecords,i=t.getOjsList();if(0==Object.keys(a).length&&0==Object.keys(o).length)return void n.hide();for(var r=0;r<i.length;r++){var l=i[r];if(l.name in a||l.name in o){var c=$("#templ").clone().removeAttr("id");$("td:eq(0)",c).html(l.name);var d=[],u=a[l.name]||[];u.sort(function(t,e){return t.length-e.length||(t<e?-1:1)});for(var p=0;p<u.length;p++)d.push("<a href='"+basePath+"/status/#un="+s+"&OJId="+l.name+"&probNum="+u[p]+"&res=0&language=' target='_blank'>"+u[p]+"</a>");for($("td:eq(1)",c).html(d.join(" ")),d=[],u=o[l.name]||[],u.sort(function(t,e){return t.length-e.length||(t<e?-1:1)}),p=0;p<u.length;p++)d.push("<a href='"+basePath+"/status/#un="+s+"&OJId="+l.name+"&probNum="+u[p]+"&res=0&language=' target='_blank'>"+u[p]+"</a>");$("td:eq(2)",c).html(d.join(" ")),c.appendTo(n).show()}}}var s;$(function(){s=$("[name=username]").val(),$("#confirm_mail").click(function(){return window.confirm("Confirm you email?")&&(window.location.href=this.href),!1}),a(),$(".toggle-detail").click(function(){$("#probRecords").toggleClass("hide")}),n(),e()})}).call(e,n(1))},,,,,,,,function(t,e){t.exports='<div class="card">\n    <div class="card-block">\n        <h2 class="card-title article-title">\n        </h2>\n        <p class="article-info">\n            by <a href="#" class="author"></a>,\n            <span class="createTime"></span>\n        </p>\n    </div>\n\n    <div class="article-oprt">\n        <span class="manage">\n            <a href="#" class="edit-article">\n                <i class="fa fa-edit"></i>\n            </a>\n            <a href="#" class="delete-article">\n                <i class="fa fa-remove"></i>\n            </a>\n        </span>\n        <i class="fa fa-thumbs-o-up text-success like"> ${article.likeCnt}</i>\n        <i class="fa fa-thumbs-o-down text-danger dislike"> ${article.dislikeCnt}</i>\n        <i class="fa fa-eye view"> ${viewCnt}</i>\n        <span>\n                <div class="fb-like"\n                     data-href="#"\n                     data-layout="button_count"\n                     data-action="like"\n                     data-size="small"\n                     data-show-faces="true"\n                     data-share="true"></div>\n            </span>\n        <hr/>\n    </div>\n\n    <div class="card-block">\n        <div class="card-text article-content">\n        </div>\n    </div>\n</div>\n\n<div class="article_discuss row"></div>\n'},function(t,e){t.exports='<div class="comment-posts-container">\n\n    <div class="comment-edit">\n        <textarea class="form-control edit"\n                  name="content"\n                  rows="6"\n                  placeholder="Comment in Markdown"></textarea>\n        <div class="comment-error alert-danger" style="display: none; padding: 20px"></div>\n        <div class="preview">\n            <span>Preview:</span><br>\n            <div class="preview-content"></div>\n            <div class="buttons">\n                <button class="btn btn-primary save" style="display: none">Save</button>\n                <button class="btn btn-primary post broadcast">Post & Broadcast</button>\n                <button class="btn btn-secondary post">Post</button>\n                <button class="btn btn-secondary cancel">Clear</button>\n            </div>\n            <div style="clear: both"></div>\n        </div>\n    </div>\n\n    <div class="comment-posts"></div>\n\n    <li class="comment-post-templ comment-post" style="display: none;">\n        <span class="author"></span>\n        <span> • </span>\n        <span class="time"></span>\n        <span class="operation">\n            <a href="javascript:void(0)" class="reply">Reply</a>\n            <span style="display: none"> • <a href="javascript:void(0)" class="edit">Edit</a></span>\n            <span style="display: none"> • <a href="javascript:void(0)" class="delete">Delete</a></span>\n        </span>\n        <div class="content"></div>\n        <ul class="replies">\n        </ul>\n    </li>\n\n</div>\n\n'},function(t,e){t.exports='<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="confirmModalLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="confirm-title"></h4>\n            </div>\n            <div class="modal-body" id="confirm-body"></div>\n            <div class="modal-footer">\n                <div class="alert alert-danger" role="alert" id="confirm-alert" style="display: none"></div>\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="btn-confirm">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="modal fade" id="submitModal" tabindex="-1" role="dialog" aria-labelledby="submitModalLabel"\n     aria-hidden="true">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="submitModalLabel">Submit</h4>\n            </div>\n            <div class="modal-body">\n                <form id="submit-form">\n                    <div class="form-group">\n\n                        <!-- For practice -->\n                        <div class="row" id="prob-1">\n                            <label class="col-md-2 col-form-label">Problem:</label>\n                            <div class="col-md-3">\n                                <select class="form-control custom-select" name="oj"></select>\n                            </div>\n                            <div class="col-md-7">\n                                <input type="text" class="form-control" name="probNum"/>\n                            </div>\n                        </div>\n\n                        <!-- For contest -->\n                        <div class="row" id="prob-2">\n                            <label class="col-md-2 col-form-label">Problem:</label>\n                            <div class="col-md-10">\n                                <select class="form-control custom-select" name="num" id="contest-num"></select>\n                            </div>\n                        </div>\n\n                        <div class="row" id="contest-password-container" style="display: none">\n                            <label class="col-md-2 col-form-label">Password:</label>\n                            <div class="col-md-10">\n                                <input type="text" class="form-control" id="contest-password"/>\n                            </div>\n                        </div>\n\n                        <div class="row">\n                            <label for="submit-language" class="col-md-2 col-form-label">Language:</label>\n                            <div class="col-md-10">\n                                <select class="form-control custom-select" name="language"\n                                        id="submit-language"></select>\n                            </div>\n                        </div>\n\n                        <div class="row">\n                            <label for="submit-share" class="col-md-2 col-form-label">Share:</label>\n                            <div class="col-md-10">\n                                <div class="btn-group" data-toggle="buttons" id="submit-share">\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="share" id="share1" value="1" autocomplete="off">Yes\n                                    </label>\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="share" id="share0" value="0" autocomplete="off">No\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="row">\n                            <label for="submit-solution" class="col-md-2 col-form-label">Solution:</label>\n                            <div class="col-md-10">\n                                <textarea class="form-control"\n                                          name="source"\n                                          id="submit-solution"\n                                          rows="15"\n                                          placeholder="At least 50 characters"></textarea>\n                            </div>\n                        </div>\n\n                        <div class="row captcha" style="display: none">\n                            <label class="col-md-2 col-form-label">Captcha:</label>\n                            <div class="col-md-10">\n                                <input type="text" class="form-control" name="captcha"/>\n                                <img src="#" id="submit-captcha-img" />\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="modal-footer">\n                <div class="alert alert-danger" role="alert" id="submit-alert" style="display: none"></div>\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="btn-submit">Submit</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="modal fade" id="editContestModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="editContestModalLabel">Create Contest</h4>\n            </div>\n            <div class="modal-body">\n\n                <nav id="navbar-edit-contest" class="navbar navbar-light bg-faded">\n                    <ul class="nav nav-pills">\n                        <li class="nav-item"><a class="nav-link" href="#panel-info">Basic Info</a></li>\n                        <li class="nav-item"><a class="nav-link" href="#panel-problems">Problem Set</a></li>\n                        <li class="nav-item" id="nav-item-replay"><a class="nav-link" href="#panel-replay">Replay\n                            Info</a></li>\n                    </ul>\n                </nav>\n                <div data-spy="scroll" data-target="#navbar-edit-contest" data-offset="0"\n                     class="scrollspy-edit-contest">\n                    <h4 id="panel-info">Basic Info</h4>\n                    <div class="card-block">\n                        <div class="form-group row">\n                            <label for="contest-type" class="col-xs-2 col-form-label">Type</label>\n                            <div class="btn-group col-xs-10 " data-toggle="buttons" id="contest-type">\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-type-0" value="0">\n                                    <img src="">\n                                    Classical Contest\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-type-1" value="1">\n                                    <img src="">\n                                    Group Contest\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-type-2" value="2">\n                                    <img src="">\n                                    Replay\n                                </label>\n                            </div>\n                        </div>\n\n                        <div class="form-group row" id="contest-openness-group">\n                            <label for="contest-openness" class="col-xs-2 col-form-label">Openness</label>\n                            <div class="col-xs-10">\n                                <select class="custom-select" id="contest-openness" style="width:9999px;">\n                                    <option value="0">\n                                        Public - any one can see and submit\n                                    </option>\n                                    <option value="1">\n                                        Protected - any one can see, but only authorized users can submit\n                                    </option>\n                                    <option value="2">\n                                        Private - only authorized users can see and submit\n                                    </option>\n                                </select>\n                            </div>\n                        </div>\n\n                        <div class="form-group row" id="contest-group-group">\n                            <label for="contest-group" class="col-xs-2 col-form-label">Group</label>\n                            <div class="col-xs-10">\n                                <select class="custom-select" id="contest-group" style="width:9999px;">\n                                </select>\n                            </div>\n                        </div>\n\n                        <div class="form-group row" id="contest-password-group">\n                            <label for="contest-password" class="col-xs-2 col-form-label">Password</label>\n                            <div class="col-xs-10">\n                                <input class="form-control" type="text" id="contest-password">\n                            </div>\n                        </div>\n\n                        <div class="form-group row">\n                            <label for="contest-title" class="col-xs-2 col-form-label">Title</label>\n                            <div class="col-xs-10">\n                                <input class="form-control" type="text" id="contest-title">\n                            </div>\n                        </div>\n\n                        <div class="form-group row">\n                            <label for="contest-begin-time" class="col-xs-2 col-form-label">Begin Time</label>\n                            <div class="col-xs-10">\n                                <input class="form-control"\n                                       type="text"\n                                       id="contest-begin-time"\n                                       placeholder="eg: 2016-12-31 23:59:59">\n                            </div>\n                        </div>\n\n                        <div class="form-group row">\n                            <label for="contest-length" class="col-xs-2 col-form-label">Length</label>\n                            <div class="col-xs-10">\n                                <input class="form-control"\n                                       type="text"\n                                       id="contest-length"\n                                       placeholder="eg: 48:00:00">\n                            </div>\n                        </div>\n\n                        <div class="form-group row" id="contest-time-machine-group">\n                            <label for="contest-time-machine" class="col-xs-2 col-form-label">\n                                History Rank\n                                <i class="fa fa-exclamation-circle"\n                                   data-toggle="tooltip"\n                                   data-html="true"\n                                   title="Once enabled participants can see rank from history contests / replays with the same problem set.<br>Note: It will reveal problem origin to participants as well"></i>\n                            </label>\n                            <div class="btn-group col-xs-10 " data-toggle="buttons" id="contest-time-machine">\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-time-machine-0" value="0"/>\n                                    Hide until contest ends\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-time-machine-1" value="1"/>\n                                    Display\n                                </label>\n                            </div>\n                        </div>\n\n                        <div class="form-group row" id="contest-rank-rule-group">\n                            <label for="contest-rank-rule" class="col-xs-2 col-form-label">\n                                <a href="https://vjudge.net/article/121" target="_blank">Rank Rule</a>\n                            </label>\n                            <div class="btn-group col-xs-10 " data-toggle="buttons" id="contest-rank-rule">\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-rank-rule-0" value="0"/>\n                                    Standard ICPC\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-rank-rule-1" value="1"/>\n                                    Customized\n                                </label>\n                            </div>\n                        </div>\n\n                        <div class="rank-rule" style="background-color: #eee; padding: 10px 10px 0 10px">\n                            <div class="form-group row rank-rule" id="contest-sum-time-group">\n                                <label for="contest-rank-rule" class="col-xs-2 col-form-label">\n                                    Total penalty\n                                </label>\n                                <div class="btn-group col-xs-10 " data-toggle="buttons" id="contest-sum-time">\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="type" id="contest-sum-time-0" value="0"/>Latest\n                                    </label>\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="type" id="contest-sum-time-1" value="1"/>Sum\n                                    </label>\n                                </div>\n                            </div>\n\n                            <div class="form-group row rank-rule">\n                                <label for="contest-penalty" class="col-xs-2 col-form-label">Penalty (s)</label>\n                                <div class="col-xs-10">\n                                    <input class="form-control"\n                                           type="text"\n                                           id="contest-penalty"\n                                           placeholder="eg: 1200">\n                                </div>\n                            </div>\n\n                            <div class="form-group row rank-rule" id="contest-partial-score-group">\n                                <label for="contest-rank-rule" class="col-xs-2 col-form-label">\n                                    Partial Score\n                                </label>\n                                <div class="btn-group col-xs-10 " data-toggle="buttons" id="contest-partial-score">\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="type" id="contest-partial-score-0" value="0"/>Disable\n                                    </label>\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="type" id="contest-partial-score-1" value="1"/>Enable\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n\n\n                        <div class="form-group row" id="contest-show-peers-group">\n                            <label for="contest-show-peers" class="col-xs-2 col-form-label">\n                                Peer Status\n                            </label>\n                            <div class="btn-group col-xs-10 " data-toggle="buttons" id="contest-show-peers">\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-show-peers-0" value="0"/>\n                                    Hide\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="type" id="contest-show-peers-1" value="1"/>\n                                    Display\n                                </label>\n                            </div>\n                        </div>\n\n                        <div class="form-group row">\n                            <label for="contest-description-edit" class="col-xs-2 col-form-label">Description</label>\n                            <div class="col-xs-10">\n                                <div class="btn-group" data-toggle="buttons" id="description-format-edit">\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="descriptionFormat" id="description-format-0" value="HTML"/>\n                                        HTML\n                                    </label>\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="descriptionFormat" id="description-format-1" value="MD"/>\n                                        Markdown\n                                    </label>\n                                    <label class="btn btn-secondary">\n                                        <input type="radio" name="descriptionFormat" id="description-format-2" value="PLAIN"/>\n                                        Plain\n                                    </label>\n                                </div>\n                                <textarea class="form-control"\n                                          name="description"\n                                          id="contest-description-edit"\n                                          rows="5"></textarea>\n                            </div>\n                        </div>\n\n                        <div class="form-group row">\n                            <label for="contest-announcement-edit"\n                                   class="col-xs-2 col-form-label">Announcement</label>\n                            <div class="col-xs-10">\n                                <textarea class="form-control"\n                                          name="announcement"\n                                          id="contest-announcement-edit"\n                                          rows="5"\n                                          placeholder="In Markdown"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                    <h4 id="panel-problems">Problem Set</h4>\n                    <div class="card-block" id="card-problems">\n                        <div class="alert alert-warning" id="info-problem-set-fixed" style="display: none">\n                            You can\'t change problem set after contest starts.\n                        </div>\n                        <table id="addTable" class="sorted_table">\n                            <thead>\n                            <tr>\n                                <th style="width:30px;text-align: center;">\n                                    <a id="addBtn" href="javascript:void(0)">\n                                        <img height="18" border="0"/>\n                                    </a>\n                                </th>\n                                <th style="width:97px;text-align: center;">OJ</th>\n                                <th style="width:80px;text-align: center;">ProbNum</th>\n                                <th style="width:80px;text-align: center;" class="rank-rule">Weight</th>\n                                <th style="width:153px;text-align: center;">Alias</th>\n                                <th style="width:30px;text-align: center;"></th>\n                                <th style="text-align:left">Title</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr id="cp_row_template" class="cp_row" style="display:none">\n                                <td style="text-align: center;">\n                                    <a class="delete" href="javascript:void(0)">\n                                        <img height="18" border="0"/>\n                                    </a>\n                                </td>\n                                <td>\n                                    <select class="custom-select" v="oj"></select>\n                                </td>\n                                <td>\n                                    <input class="form-control" style="width:120px;" v="probNum"/>\n                                    <input type="hidden" v="pid"/>\n                                </td>\n                                <td class="rank-rule">\n                                    <input class="form-control" style="width:80px;" v="weight"/>\n                                </td>\n                                <td>\n                                    <input class="form-control" style="width:160px;" v="alias"/>\n                                </td>\n                                <td class="num" style="text-align: center;"></td>\n                                <td></td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <h4 id="panel-replay">Replay Info</h4>\n                    <div class="card-block row" id="card-block-replay">\n                        <div class="col-md-3">\n                            <div class="alert alert-info">\n                                <i class="fa fa-upload"></i>\n                                <a href="https://vjudge.net/article/87" target="_blank">Upload rank Excel.</a>\n                                <br>The last one uploaded is effective.\n                            </div>\n                            <script type="text/template" id="qq-template">\n                                <div class="qq-uploader-selector qq-uploader qq-gallery"\n                                     qq-drop-area-text="Drop files here">\n                                    <div class="qq-total-progress-bar-container-selector qq-total-progress-bar-container">\n                                        <div role="progressbar" aria-valuenow="0" aria-valuemin="0"\n                                             aria-valuemax="100"\n                                             class="qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar"></div>\n                                    </div>\n                                    <div class="qq-upload-drop-area-selector qq-upload-drop-area"\n                                         qq-hide-dropzone>\n                                        <span class="qq-upload-drop-area-text-selector"></span>\n                                    </div>\n                                    <div class="qq-upload-button-selector qq-upload-button">\n                                        <div>Upload a file</div>\n                                    </div>\n                                    <span class="qq-drop-processing-selector qq-drop-processing">\n                <span>Processing dropped files...</span>\n                <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>\n            </span>\n                                    <ul class="qq-upload-list-selector qq-upload-list" role="region"\n                                        aria-live="polite" aria-relevant="additions removals">\n                                        <li>\n                                                <span role="status"\n                                                      class="qq-upload-status-text-selector qq-upload-status-text"></span>\n                                            <div class="qq-progress-bar-container-selector qq-progress-bar-container">\n                                                <div role="progressbar" aria-valuenow="0" aria-valuemin="0"\n                                                     aria-valuemax="100"\n                                                     class="qq-progress-bar-selector qq-progress-bar"></div>\n                                            </div>\n                                            <span class="qq-upload-spinner-selector qq-upload-spinner"></span>\n                                            <div class="qq-thumbnail-wrapper">\n                                                <img class="qq-thumbnail-selector" qq-max-size="120"\n                                                     qq-server-scale>\n                                            </div>\n                                            <button type="button"\n                                                    class="qq-upload-cancel-selector qq-upload-cancel">X\n                                            </button>\n                                            <button type="button"\n                                                    class="qq-upload-retry-selector qq-upload-retry">\n                                                <span class="qq-btn qq-retry-icon" aria-label="Retry"></span>\n                                                Retry\n                                            </button>\n\n                                            <div class="qq-file-info">\n                                                <div class="qq-file-name">\n                                                    <span class="qq-upload-file-selector qq-upload-file"></span>\n                                                    <span class="qq-edit-filename-icon-selector qq-btn qq-edit-filename-icon"\n                                                          aria-label="Edit filename"></span>\n                                                </div>\n                                                <input class="qq-edit-filename-selector qq-edit-filename"\n                                                       tabindex="0" type="text">\n                                                <span class="qq-upload-size-selector qq-upload-size"></span>\n                                                <button type="button"\n                                                        class="qq-btn qq-upload-delete-selector qq-upload-delete">\n                                                            <span class="qq-btn qq-delete-icon"\n                                                                  aria-label="Delete"></span>\n                                                </button>\n                                                <button type="button"\n                                                        class="qq-btn qq-upload-pause-selector qq-upload-pause">\n                                                            <span class="qq-btn qq-pause-icon"\n                                                                  aria-label="Pause"></span>\n                                                </button>\n                                                <button type="button"\n                                                        class="qq-btn qq-upload-continue-selector qq-upload-continue">\n                                                        <span class="qq-btn qq-continue-icon"\n                                                              aria-label="Continue"></span>\n                                                </button>\n                                            </div>\n                                        </li>\n                                    </ul>\n\n                                    <dialog class="qq-alert-dialog-selector">\n                                        <div class="qq-dialog-message-selector"></div>\n                                        <div class="qq-dialog-buttons">\n                                            <button type="button" class="qq-cancel-button-selector">Close\n                                            </button>\n                                        </div>\n                                    </dialog>\n\n                                    <dialog class="qq-confirm-dialog-selector">\n                                        <div class="qq-dialog-message-selector"></div>\n                                        <div class="qq-dialog-buttons">\n                                            <button type="button" class="qq-cancel-button-selector">No</button>\n                                            <button type="button" class="qq-ok-button-selector">Yes</button>\n                                        </div>\n                                    </dialog>\n\n                                    <dialog class="qq-prompt-dialog-selector">\n                                        <div class="qq-dialog-message-selector"></div>\n                                        <input type="text">\n                                        <div class="qq-dialog-buttons">\n                                            <button type="button" class="qq-cancel-button-selector">Cancel\n                                            </button>\n                                            <button type="button" class="qq-ok-button-selector">Ok</button>\n                                        </div>\n                                    </dialog>\n                                </div>\n                            </script>\n                            <div id="uploader"></div>\n                        </div>\n                        <div class="col-md-9">\n                            <div class="row" id="clarifyRankCell_form">\n                                <div></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <div class="alert alert-danger" role="alert" id="edit-alert" style="display: none"></div>\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="btn-confirm">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n';
},function(t,e){t.exports='<div class="modal fade" id="contestSettingModal" tabindex="-1" role="dialog" aria-labelledby="contestSettingModalLabel"\n     aria-hidden="true">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="contest-setting-title">Setting</h4>\n            </div>\n            <div class="modal-body">\n                <div class="container">\n                    <div class="row">\n                        <div class="col-md-2">\n                            Show teams\n                        </div>\n                        <div class="col-md-4">\n                            <div class="btn-group" data-toggle="buttons" id="setting-show-teams">\n                                <label class="btn btn-secondary btn-sm">\n                                    <input type="radio" name="showTeams" id="showTeams1"\n                                           value="all" autocomplete="off">All teams\n                                </label>\n                                <label class="btn btn-secondary btn-sm">\n                                    <input type="radio" name="showTeams" id="showTeams0"\n                                           value="top" autocomplete="off">Top teams\n                                </label>\n                            </div>\n                        </div>\n                        <div class="col-md-3">\n                            Practice submissions\n                        </div>\n                        <div class="col-md-3">\n                            <div class="btn-group" data-toggle="buttons" id="setting-show-practice">\n                                <label class="btn btn-secondary btn-sm">\n                                    <input type="radio" name="showPractice" id="showPractice1" value="1"\n                                           autocomplete="off">Show\n                                </label>\n                                <label class="btn btn-secondary btn-sm">\n                                    <input type="radio" name="showPractice" id="showPractice0" value="0"\n                                           autocomplete="off">Hide\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row" style="margin-top: 10px">\n                        <div class="col-md-2">\n                            Timestamp\n                        </div>\n                        <div class="col-md-4">\n                            <div class="btn-group" data-toggle="buttons" id="setting-show-timestamp">\n                                <label class="btn btn-secondary btn-sm">\n                                    <input type="radio" name="showTimestamp" id="showTimestamp1" value="1"\n                                           autocomplete="off">Show\n                                </label>\n                                <label class="btn btn-secondary btn-sm">\n                                    <input type="radio" name="showTimestamp" id="showTimestamp0" value="0"\n                                           autocomplete="off">Hide\n                                </label>\n                            </div>\n                        </div>\n                        <div class="col-md-3">\n                            Export\n                        </div>\n                        <div class="col-md-3">\n                            <a id="btn-export-submissions" class="btn btn-secondary btn-sm" href="#">\n                                Submissions\n                            </a>\n                            <a id="btn-export-rank" class="btn btn-secondary btn-sm" href="#">\n                                Rank\n                            </a>\n                        </div>\n                    </div>\n                    <div class="row" id="history-contest-container">\n                        <hr/>\n                        <h6>\n                            History contests:\n                        </h6>\n                        <span style="color: grey; font-size:14px; display: none" id="contest-setting-hint">\n                            (These ranks are not visible to participants until contest ends)\n                        </span>\n                        <table class="table table-striped table-bordered table-responsive" id="contest-setting-table">\n                            <thead>\n                            <th class="show-rank">\n                                Show Rank<br>\n                                <input type=\'checkbox\' id="setting-check-all" checked/>\n                            </th>\n                            <th>Title</th>\n                            <th class="teams">Teams</th>\n                            <th class="begin-time">Begin Time</th>\n                            <th>Length</th>\n                            </thead>\n                            <tbody></tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="col-sm-12 col-md-4 group-card">\n    <table cellspacing="0">\n        <tr>\n            <td style="width: 30%">\n                <div class="card left">\n                    <div class="logo">\n                        <a href="#">\n                            <img class="card-img-top" src="#" alt="Group logo"/>\n                        </a>\n                    </div>\n                    <div class="leader single">\n                        <i class="fa fa-user text-warning"></i>\n                    </div>\n                </div>\n            </td>\n            <td>\n                <div class="card right">\n                    <div class="name single">\n                    </div>\n                    <div class="brief">\n                    </div>\n                    <div class="single">\n                        <div class="members">\n                            <i class="fa fa-users"></i>\n                            <i class="fa fa-times"></i>\n                        </div>\n                        <div class="contests"></div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>'},function(t,e){t.exports='<div class="modal fade" id="createGroupModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal">\n                    <span>&times;</span>\n                </button>\n                <h4 class="modal-title" id="createGroupModalLabel">Create Group</h4>\n            </div>\n            <div class="modal-body">\n                <form id="create-group-form">\n\n                    <div class="form-group row">\n                        <label for="group-name" class="col-xs-2 col-form-label">Group name</label>\n                        <div class="col-xs-10">\n                            <input class="form-control" type="text" id="group-name">\n                        </div>\n                    </div>\n\n                    <div class="form-group row">\n                        <label for="group-short-name" class="col-xs-2 col-form-label">Short name</label>\n                        <div class="col-xs-10">\n                            <input class="form-control" type="text" id="group-short-name"\n                                   placeholder="https://vjudge.net/group/{short-name}">\n                        </div>\n                    </div>\n\n                    <div class="form-group row">\n                        <label for="group-visibility" class="col-xs-2 col-form-label">Visibility</label>\n                        <div class="btn-group col-xs-10" data-toggle="buttons" id="group-visibility">\n                            <label class="btn btn-secondary">\n                                <input type="radio" name="visibility" id="group-visibility-0" value="0"/>\n                                Private\n                            </label>\n                            <label class="btn btn-secondary">\n                                <input type="radio" name="visibility" id="group-visibility-1" value="1"/>\n                                Public\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group row">\n                        <label for="group-join-policy" class="col-xs-2 col-form-label">Join policy</label>\n                        <div class="btn-group col-xs-10" data-toggle="buttons" id="group-join-policy">\n                            <label class="btn btn-secondary">\n                                <input type="radio" name="joinPolicy" id="group-join-policy-0" value="0"/>\n                                Invite only\n                            </label>\n                            <label class="btn btn-secondary">\n                                <input type="radio" name="joinPolicy" id="group-join-policy-1" value="1"/>\n                                Apply & Approve\n                            </label>\n                            <label class="btn btn-secondary">\n                                <input type="radio" name="joinPolicy" id="group-join-policy-2" value="2"/>\n                                Free\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group row">\n                        <label for="group-brief" class="col-xs-2 col-form-label">Brief</label>\n                        <div class="col-xs-10">\n                            <textarea class="form-control"\n                                      name="brief"\n                                      id="group-brief"\n                                      rows="3"\n                                      placeholder="Less than 140 characters"></textarea>\n                        </div>\n                    </div>\n\n                    <div class="form-group row">\n                        <label for="group-intro" class="col-xs-2 col-form-label">Introduction</label>\n                        <div class="col-xs-10">\n                            <div class="btn-group" data-toggle="buttons" id="group-intro-format">\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="introFormat" id="group-intro-format-0" value="HTML"/>\n                                    HTML\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="introFormat" id="group-intro-format-1" value="MD"/>\n                                    Markdown\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="introFormat" id="group-intro-format-2" value="PLAIN"/>\n                                    Plain\n                                </label>\n                            </div>\n\n                            <textarea class="form-control"\n                                      name="intro"\n                                      id="group-intro"\n                                      rows="5"></textarea>\n                        </div>\n                    </div>\n\n                </form>\n            </div>\n            <div class="modal-footer">\n                <div class="alert alert-danger" role="alert" id="create-group-alert"></div>\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="btn-confirm">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="modal fade" id="editDescriptionModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="editDescriptionModalLabel">Edit Description</h4>\n            </div>\n            <div class="modal-body">\n                <form id="edit-description-form">\n                    <div class="form-group row">\n                        <label for="remark" class="col-xs-2 col-form-label">Remark</label>\n                        <div class="col-xs-10">\n                            <textarea class="form-control"\n                                      name="remark"\n                                      id="remark"\n                                      rows="3"\n                                      placeholder=""></textarea>\n                        </div>\n                    </div>\n\n                    <div class="form-group row">\n                        <label for="description-format" class="col-xs-2 col-form-label">Format</label>\n                        <div class="col-xs-10">\n                            <div class="btn-group" data-toggle="buttons" id="description-format">\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="introFormat" id="description-format-0" value="HTML"/>\n                                    HTML\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="introFormat" id="description-format-1" value="MD"/>\n                                    Markdown\n                                </label>\n                                <label class="btn btn-secondary">\n                                    <input type="radio" name="introFormat" id="description-format-2" value="PLAIN"/>\n                                    Plain\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="row">\n                        <hr>\n                    </div>\n\n                    <div class="form-group row section-template section" style="display: none">\n                        <div class="col-xs-2">\n                            <input type="text" name="section-title" style="width: 100%">\n                            <br>\n                            <a href="javascript:void(0)" class="remove">\n                                <i class="fa fa-remove">&nbsp;&nbsp;</i>\n                            </a>\n                            <a href="javascript:void(0)" class="move-up">\n                                <i class="fa fa-arrow-up">&nbsp;&nbsp;</i>\n                            </a>\n                            <a href="javascript:void(0)" class="move-down">\n                                <i class="fa fa-arrow-down">&nbsp;&nbsp;</i>\n                            </a>\n                        </div>\n                        <div class="col-xs-10">\n                            <textarea class="form-control" name="section-value" rows="5"></textarea>\n                        </div>\n                    </div>\n\n                </form>\n            </div>\n            <div class="modal-footer">\n                <div class="alert alert-danger" role="alert" id="edit-alert" style="display: none"></div>\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="btn-add-section">Add Section</button>\n                <button type="button" class="btn btn-primary" id="btn-confirm">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="modal fade" id="solutionModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal">\n                    <a href="javascript:void(0)">\n                        <i class="fa fa-close"></i>\n                    </a>\n                </button>\n                <h5 class="modal-title" id="solutionModalLabel"></h5>\n            </div>\n            <div class="modal-body">\n                <div id="info-panel">\n                    <table class="table table-reflow">\n                        <tbody>\n                        </tbody>\n                    </table>\n                </div>\n                <div class="alert alert-warning" role="alert" id="ce-info" style="display: none"></div>\n                <div id="code-panel"></div>\n                <div id="source_discuss"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="modal fade" id="updateModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal">\n                    <span>&times;</span>\n                </button>\n                <h4 class="modal-title" id="updateModalLabel">Update</h4>\n            </div>\n            <div class="modal-body">\n                <form id="update-form">\n                    <div class="row">\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <label for="update-username" class="form-control-label">* Username:</label>\n                                <input type="text" class="form-control disabled" id="update-username" disabled>\n                            </div>\n                            <div class="form-group">\n                                <label for="update-orig-password" class="form-control-label">* Original\n                                    Password:</label>\n                                <input type="password" class="form-control" id="update-orig-password"\n                                       placeholder="Required to update any field">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-password" class="form-control-label">Password:</label>\n                                <input type="password" class="form-control" id="update-password">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-repeat-password" class="form-control-label">Repeat Password:</label>\n                                <input type="password" class="form-control" id="update-repeat-password">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-nickname" class="form-control-label">Nickname:</label>\n                                <input type="text" class="form-control" id="update-nickname">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-school" class="form-control-label">School:</label>\n                                <input type="text" class="form-control" id="update-school">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-qq" class="form-control-label">QQ:</label>\n                                <input type="text" class="form-control" id="update-qq">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-email" class="form-control-label">* Email:</label>\n                                <input type="text" class="form-control" id="update-email">\n                            </div>\n                            <div class="form-group">\n                                <label for="update-captcha" class="form-control-label">* Captcha:</label>\n                                <input type="text" class="form-control" id="update-captcha">\n                                <img src="#" id="update-captcha-img" />\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <label for="update-introduction" class="form-control-label">Introduction:</label>\n                                <textarea class="form-control" id="update-introduction" rows="25"\n                                          placeholder="in Markdown"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="modal-footer">\n                <div class="alert alert-danger" role="alert" id="update-alert" style="display: none"></div>\n                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                <button type="button" class="btn btn-primary" id="btn-update-profile">Update</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},,,,,function(t,e,n){function a(t){return n(o(t))}function o(t){return s[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var s={"./article/edit":24,"./article/edit.css":80,"./article/edit.js":24,"./article/list.css":81,"./article/view":10,"./article/view.css":82,"./article/view.html":52,"./article/view.js":10,"./comment/list":25,"./comment/list.css":83,"./comment/list.js":25,"./comment/view":4,"./comment/view.css":84,"./comment/view.html":53,"./comment/view.js":4,"./common/confirm":5,"./common/confirm.html":54,"./common/confirm.js":5,"./common/discuss":26,"./common/discuss.js":26,"./common/error":27,"./common/error.css":85,"./common/error.js":27,"./common/global":11,"./common/global.css":86,"./common/global.js":11,"./common/index":28,"./common/index.css":87,"./common/index.js":28,"./common/submit_modal":6,"./common/submit_modal.html":55,"./common/submit_modal.js":6,"./common/table.css":88,"./common/vjudge":1,"./common/vjudge.js":1,"./contest/edit":7,"./contest/edit.css":89,"./contest/edit.html":56,"./contest/edit.js":7,"./contest/list":29,"./contest/list.css":90,"./contest/list.js":29,"./contest/statistic":30,"./contest/statistic.css":91,"./contest/statistic.js":30,"./contest/view/discuss":12,"./contest/view/discuss.js":12,"./contest/view/overview":13,"./contest/view/overview.js":13,"./contest/view/problem":14,"./contest/view/problem.js":14,"./contest/view/rank":15,"./contest/view/rank.js":15,"./contest/view/setting":16,"./contest/view/setting.html":57,"./contest/view/setting.js":16,"./contest/view/status":17,"./contest/view/status.js":17,"./contest/view/view":31,"./contest/view/view.css":92,"./contest/view/view.js":31,"./contest/view/widget":18,"./contest/view/widget.js":18,"./group/card":19,"./group/card.css":93,"./group/card.html":58,"./group/card.js":19,"./group/edit":8,"./group/edit.html":59,"./group/edit.js":8,"./group/portal":32,"./group/portal.css":94,"./group/portal.js":32,"./group/view":33,"./group/view.css":95,"./group/view.js":33,"./images/background-gray.png":111,"./images/customer_service.png":112,"./images/fuck_ocr.png":113,"./images/go_top.png":114,"./main":20,"./main.js":20,"./message/portal":34,"./message/portal.css":96,"./message/portal.js":34,"./problem/description":35,"./problem/description.js":35,"./problem/editDescription":21,"./problem/editDescription.html":60,"./problem/editDescription.js":21,"./problem/list":36,"./problem/list.css":97,"./problem/list.js":36,"./problem/view":37,"./problem/view.css":98,"./problem/view.js":37,"./solution/view":3,"./solution/view.css":99,"./solution/view.html":61,"./solution/view.js":3,"./solution/viewInner":38,"./solution/viewInner.js":38,"./solution/viewPage":39,"./solution/viewPage.js":39,"./stat/count_session":40,"./stat/count_session.js":40,"./stat/listOL.css":100,"./stat/list_session":41,"./stat/list_session.js":41,"./status/list":42,"./status/list.css":101,"./status/list.js":42,"./user/list":43,"./user/list.css":102,"./user/list.js":43,"./user/profile":44,"./user/profile.css":103,"./user/profile.js":44,"./user/update":22,"./user/update.html":62,"./user/update.js":22};a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id=67},,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,function(t,e,n){t.exports=n.p+"9bedc0fe919ca6dfa2e08a6a6f8b2ad0.png"},function(t,e,n){t.exports=n.p+"f5d9745fcbc82d69e7c01e0aeb3c2ef8.png"},function(t,e,n){t.exports=n.p+"8292a3e8e20c6b19fdbe3746c3dc1752.png"},function(t,e,n){t.exports=n.p+"98e86a870a73ccbc500f93ed21949e0d.png"}]);